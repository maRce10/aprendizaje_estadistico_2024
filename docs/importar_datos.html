<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Aprendizaje Estadístico, SEP-UCR 2024 - Importar y exportar datos en R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Aprendizaje Estadístico, SEP-UCR 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manuales" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Manuales</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-manuales">    
        <li>
    <a class="dropdown-item" href="./intro_curso.html">
 <span class="dropdown-text">Introducción al curso</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./fundamentos_de_r.html">
 <span class="dropdown-text">Fundamentos de R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./importar_datos.q’#1E90FF’md">
 <span class="dropdown-text">Importar y exportar datos de R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./como_simular_datos.html">
 <span class="dropdown-text">Como simular datos</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./modelos_de_regresion.html">
 <span class="dropdown-text">Modelos de regresión</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ggplot2.html">
 <span class="dropdown-text">Gráficos con ggplot2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./preparacion_curso.html"> 
<span class="menu-text">Preparación para el curso</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://codefile.io/f/inMsojTFoN"> 
<span class="menu-text">Compartir código</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./programa.html"> 
<span class="menu-text">Programa</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./instructor.html"> 
<span class="menu-text">Profesor</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/maRce10/aprendizaje_estadistico_2024"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contenidos</h2>
   
  <ul class="collapse">
  <li><a href="#antes-de-importar-datos" id="toc-antes-de-importar-datos" class="nav-link active" data-scroll-target="#antes-de-importar-datos"><span class="header-section-number">1</span> Antes de importar datos</a></li>
  <li><a href="#importar-datos" id="toc-importar-datos" class="nav-link" data-scroll-target="#importar-datos"><span class="header-section-number">2</span> Importar datos</a>
  <ul class="collapse">
  <li><a href="#establecer-el-directorio-de-trabajo" id="toc-establecer-el-directorio-de-trabajo" class="nav-link" data-scroll-target="#establecer-el-directorio-de-trabajo"><span class="header-section-number">2.1</span> Establecer el directorio de trabajo</a></li>
  <li><a href="#lectura-de-datos" id="toc-lectura-de-datos" class="nav-link" data-scroll-target="#lectura-de-datos"><span class="header-section-number">2.2</span> Lectura de datos</a></li>
  <li><a href="#leer-archivos-.txt" id="toc-leer-archivos-.txt" class="nav-link" data-scroll-target="#leer-archivos-.txt"><span class="header-section-number">2.3</span> Leer archivos <em>.txt</em></a></li>
  <li><a href="#leer-archivos-.csv" id="toc-leer-archivos-.csv" class="nav-link" data-scroll-target="#leer-archivos-.csv"><span class="header-section-number">2.4</span> Leer archivos <em>.csv</em></a></li>
  <li><a href="#leer-archivos-de-excel" id="toc-leer-archivos-de-excel" class="nav-link" data-scroll-target="#leer-archivos-de-excel"><span class="header-section-number">2.5</span> Leer archivos de Excel</a></li>
  </ul></li>
  <li><a href="#formato-de-los-datos" id="toc-formato-de-los-datos" class="nav-link" data-scroll-target="#formato-de-los-datos"><span class="header-section-number">3</span> Formato de los datos</a>
  <ul class="collapse">
  <li><a href="#datos-compactos" id="toc-datos-compactos" class="nav-link" data-scroll-target="#datos-compactos"><span class="header-section-number">3.1</span> Datos compactos</a></li>
  <li><a href="#recopilación-de-datos" id="toc-recopilación-de-datos" class="nav-link" data-scroll-target="#recopilación-de-datos"><span class="header-section-number">3.2</span> Recopilación de datos</a></li>
  <li><a href="#expandir-spreading" id="toc-expandir-spreading" class="nav-link" data-scroll-target="#expandir-spreading"><span class="header-section-number">3.3</span> Expandir (spreading)</a></li>
  <li><a href="#separar-y-unir" id="toc-separar-y-unir" class="nav-link" data-scroll-target="#separar-y-unir"><span class="header-section-number">3.4</span> Separar y unir</a></li>
  <li><a href="#unir" id="toc-unir" class="nav-link" data-scroll-target="#unir"><span class="header-section-number">3.5</span> Unir</a></li>
  </ul></li>
  <li><a href="#exportar-datos" id="toc-exportar-datos" class="nav-link" data-scroll-target="#exportar-datos"><span class="header-section-number">4</span> Exportar datos</a>
  <ul class="collapse">
  <li><a href="#referencias" id="toc-referencias" class="nav-link" data-scroll-target="#referencias"><span class="header-section-number">4.1</span> Referencias</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><font size="7"><b>Importar y exportar datos en R</b></font></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código fuente</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">21 de agosto de 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>sketchy<span class="sc">::</span><span class="fu">load_packages</span>(<span class="fu">c</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RColorBrewer"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggplot2"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"readxl"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyr"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dplyr"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<section id="objetivos-del-manual" class="level3 unnumbered unlisted alert alert-info">
<h3 class="unnumbered unlisted anchored" data-anchor-id="objetivos-del-manual">Objetivos del manual</h3>
<p>&nbsp;</p>
<ul>
<li><p>Familiarizarse con las funciones principales para importar y exportar datos</p></li>
<li><p>Conocer buenas prácticas para el manejo de datos que faciliten su uso en <code>R</code></p></li>
</ul>
</section>
<p>&nbsp;</p>
<section id="antes-de-importar-datos" class="level1 alert alert-warning" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Antes de importar datos</h1>
<p>Existen algunos hábitos para ingresar datos que facilitarán la correcta importación de datos en <code>R</code>:</p>
<ul>
<li><p>Reservar la primera fila para la cabecera</p></li>
<li><p>Reserve la primera columna a la unidad de muestreo</p></li>
<li><p>Utilice “_”,“.” o “-” en lugar de espacios vacíos (por ejemplo, “Cornell_University”)</p></li>
<li><p>Utilice nombres cortos</p></li>
<li><p>Evite utilizar símbolos poco comunes como ?, $,%, ^, &amp;, *, (, ),-,#, ?,,,&lt;,&gt;, /, |, , [ ,] ,{, y }</p></li>
<li><p>Sea consistente al referirse a las mismas cosas (es decir, escríbalas siempre de la misma manera)</p></li>
<li><p>Elimine cualquier comentario adicional fuera de las columnas del conjunto de datos</p></li>
<li><p>Indique los valores que faltan con <code>NA</code> (o al menos con espacios vacíos)</p></li>
<li><p>Ni se le ocurra codificar los datos por colores en Excel</p></li>
<li><p>No fusione celdas</p></li>
</ul>
</section>
<p>&nbsp;</p>
<section id="importar-datos" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Importar datos</h1>
<p>La importación de datos en <code>R</code> es un paso crucial y aparentemente sencillo. Sin embargo, dada la diversidad de formatos de datos y sistemas operativos, así como las numerosas fuentes de error posibles, la introducción de datos en <code>R</code> no siempre es tan sencilla. La mayoría de los problemas están relacionados con</p>
<ul>
<li><p>Decirle a <code>R</code> en qué directorio se encuentra el archivo</p></li>
<li><p>Decirle a <code>R</code> cómo están codificados los datos (por ejemplo, separados por comas, anchura fija, etc.).</p></li>
<li><p>Manejo de celdas vacías y caracteres poco comunes</p></li>
</ul>
<p>&nbsp;</p>
<section id="establecer-el-directorio-de-trabajo" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="establecer-el-directorio-de-trabajo"><span class="header-section-number">2.1</span> Establecer el directorio de trabajo</h2>
<p>Para leer datos en R es necesario especificar el directorio de trabajo. Se puede establecer con la función <code>setwd()</code>. La forma de hacerlo depende del sistema operativo (windows, mac, Linux). La sintaxis del directorio sigue la estructura anidada de las carpetas. Por ejemplo:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/home/m/Desktop/"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>… establece el directorio de trabajo en la carpeta “Desktop”, que se encuentra dentro de “m”, que se encuentra dentro de “home”.</p>
<p>..;</p>
<p>Algunos consejos básicos para establecer el directorio de trabajo:</p>
<ul>
<li><p>Asegúrese de que la ubicación está entre comillas</p></li>
<li><p>Asegúrese de que hay una barra diagonal (/) entre los nombres de las carpetas (aunque las barras diagonales dobles parecen funcionar en Windows).</p></li>
<li><p>No incluya ningún nombre de archivo en el nombre del directorio de la carpeta.</p></li>
<li><p>Para encontrar la ubicación, puede consultar las propiedades de un archivo de esa carpeta y copiarlo.</p></li>
<li><p>La ruta a la carpeta debe ir entre comillas (““)</p></li>
<li><p>El nombre debe coincidir exactamente (mejor copiar/pegar)</p></li>
<li><p>Utilice <code>list.files()</code> para comprobar qué archivos están en el directorio de trabajo</p></li>
<li><p><code>R</code> puede sugerir y autocompletar los nombres de las carpetas pulsando “tab” cuando están entre comillas:</p></li>
</ul>
<p>&nbsp;</p>
<p><img src="./images/suggest_folder.gif" alt="Espectro de color" height="150" width="550"></p>
<p>&nbsp;</p>
<section id="establecer-el-directorio-de-trabajo-en-windows" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="establecer-el-directorio-de-trabajo-en-windows"><span class="header-section-number">2.1.1</span> Establecer el directorio de trabajo en windows</h3>
<p>En windows debería ser algo como esto:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/location"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>También pueden hacerlo manualmente (¡solo en windows!):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">choose.dir</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>Debería aparecer una ventana en la que puede elegir la ubicación. Sin embargo, esto sólo se debe utilizar para averiguar la forma correcta de escribir la ubicación del directorio, no como parte de la propia secuencia de comandos.</p>
<p>&nbsp;</p>
</section>
<section id="establecer-el-directorio-de-trabajo-en-macos" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="establecer-el-directorio-de-trabajo-en-macos"><span class="header-section-number">2.1.2</span> Establecer el directorio de trabajo en macOS</h3>
<p>Para mac establecer el directorio de trabajo debe ser algo como esto:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/yourname/.."</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>no incluya lo que tenga antes de “usuarios” (como en windows)</p>
<p>&nbsp;</p>
</section>
<section id="establecer-el-directorio-de-trabajo-en-linux" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="establecer-el-directorio-de-trabajo-en-linux"><span class="header-section-number">2.1.3</span> Establecer el directorio de trabajo en Linux</h3>
<p>Similar al código usado en OSX:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/home/m/Desktop/"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>La “~” (virgulilla) también puede utilizarse para omitir la carpeta “home” y “user” en Linux:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"~/Desktop/"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>El directorio de trabajo actual se puede comprobar de la siguiente manera:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/m/Dropbox/courses_and_workshops/estadistica/aprendizaje_estadistico_2024"</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
</section>
<section id="lectura-de-datos" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="lectura-de-datos"><span class="header-section-number">2.2</span> Lectura de datos</h2>
<p>Cualquier archivo puede ser leído en <code>R</code>. Sólo es cuestión de hacer saber a <code>R</code> en qué formato está codificado el archivo (por ejemplo, qué convenciones se siguieron al generarlo). Los formatos más comunes para almacenar/intercambiar conjuntos de datos como los que solemos manejar en ciencias biológicas son <em>txt</em>, <em>csv</em> y <em>xls/xlsx</em>.</p>
<p>&nbsp;</p>
<p>La función más utilizada para importar datos en <code>R</code> es <code>read.table</code>. De hecho, la documentación de esta función incluye todas las funciones por defecto para introducir datos:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>?read.table</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p><img src="./images/input_data.png" alt="Color spectro" height="500" width="750"></p>
<p>&nbsp;</p>
</section>
<section id="leer-archivos-.txt" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="leer-archivos-.txt"><span class="header-section-number">2.3</span> Leer archivos <em>.txt</em></h2>
<p>Los archivos <em>.txt</em> pueden leerse con <code>read.table</code>. Descarguemos primero un conjunto de datos de libre acceso en formato <em>.txt</em>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># definir el directorio de trabajo</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"INGRESE LA DIRECCION DE LA CARPETA DONDE ESTAN LOS DATOS"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://raw.githubusercontent.com/maRce10/UCR_ESP_2024/master/pantheria_mammals_data.txt"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">destfile =</span> <span class="st">"pantheria_mammals_data.txt"</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>You can also manually download the file from <a href="https://raw.githubusercontent.com/maRce10/UCR_ESP_2024/master/pantheria_mammals_data.txt">here</a></em></p>
<p>&nbsp;</p>
<p>El archivo puede introducirse en <code>R</code> de la siguiente forma:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># leer datos</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>datos_pantheria <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"pantheria_mammals_data.txt"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># explorar estructura</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_pantheria)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Order</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Family</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Genus</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Species</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Binomial</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X1.1_ActivityCycle</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.1_AdultBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X8.1_AdultForearmLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.1_AdultHeadBodyLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X2.1_AgeatEyeOpening_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X3.1_AgeatFirstBirth_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X18.1_BasalMetRate_mLO2hr</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.2_BasalMetRateMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X6.1_DietBreadth</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X7.1_DispersalAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X9.1_GestationLen_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X12.1_HabitatBreadth</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X22.1_HomeRange_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X22.2_HomeRange_Indiv_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X14.1_InterBirthInterval_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X15.1_LitterSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X16.1_LittersPerYear</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X17.1_MaxLongevity_m</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.3_NeonateBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.2_NeonateHeadBodyLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X21.1_PopulationDensity_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X10.1_PopulationGrpSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X23.1_SexualMaturityAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X10.2_SocialGrpSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X24.1_TeatNumber</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X12.2_Terrestriality</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X6.2_TrophicLevel</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X25.1_WeaningAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.4_WeaningBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.3_WeaningHeadBodyLen_mm</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">References</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.5_AdultBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X16.2_LittersPerYear_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.6_NeonateBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.7_WeaningBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.1_GR_Area_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.2_GR_MaxLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.3_GR_MinLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.4_GR_MRLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.5_GR_MaxLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.6_GR_MinLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.7_GR_MRLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.1_HuPopDen_Min_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.2_HuPopDen_Mean_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.3_HuPopDen_5p_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.4_HuPopDen_Change</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X28.1_Precip_Mean_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X28.2_Temp_Mean_01degC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X30.1_AET_Mean_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X30.2_PET_Mean_mm</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Muridae</td>
<td style="text-align: left;">Abditomys</td>
<td style="text-align: left;">latidens</td>
<td style="text-align: left;">Abditomys latidens</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">268</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">223.99</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">2152</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">357</td>
<td style="text-align: right;">16.94</td>
<td style="text-align: right;">16.74</td>
<td style="text-align: right;">16.84</td>
<td style="text-align: right;">120.97</td>
<td style="text-align: right;">120.78</td>
<td style="text-align: right;">120.88</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">93.00</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">316.00</td>
<td style="text-align: right;">180.00</td>
<td style="text-align: right;">1443.00</td>
<td style="text-align: right;">1557.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Muridae</td>
<td style="text-align: left;">Abrawayaomys</td>
<td style="text-align: left;">ruschii</td>
<td style="text-align: left;">Abrawayaomys ruschii</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">2655</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">126137</td>
<td style="text-align: right;">-15.09</td>
<td style="text-align: right;">-19.84</td>
<td style="text-align: right;">-17.47</td>
<td style="text-align: right;">-40.52</td>
<td style="text-align: right;">-43.56</td>
<td style="text-align: right;">-42.04</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">21.21</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">107.06</td>
<td style="text-align: right;">209.10</td>
<td style="text-align: right;">1084.47</td>
<td style="text-align: right;">1402.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">bennettii</td>
<td style="text-align: left;">Abrocoma bennettii</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">251</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">4.86</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">27.6</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">142</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">543;890;1297;1492;2655</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">54616</td>
<td style="text-align: right;">-27.71</td>
<td style="text-align: right;">-35.58</td>
<td style="text-align: right;">-31.64</td>
<td style="text-align: right;">-69.40</td>
<td style="text-align: right;">-71.70</td>
<td style="text-align: right;">-70.55</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">63.15</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">20.44</td>
<td style="text-align: right;">17.66</td>
<td style="text-align: right;">213.09</td>
<td style="text-align: right;">1073.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">boliviensis</td>
<td style="text-align: left;">Abrocoma boliviensis</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">158</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">2655</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">5774</td>
<td style="text-align: right;">-17.44</td>
<td style="text-align: right;">-18.05</td>
<td style="text-align: right;">-17.75</td>
<td style="text-align: right;">-63.49</td>
<td style="text-align: right;">-64.51</td>
<td style="text-align: right;">-64.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">29.24</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">82.63</td>
<td style="text-align: right;">175.55</td>
<td style="text-align: right;">1171.61</td>
<td style="text-align: right;">1487.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">cinerea</td>
<td style="text-align: left;">Abrocoma cinerea</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">194</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">109.64</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">2.20</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">13.3</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">890;1297;1627;2655</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">381391</td>
<td style="text-align: right;">-14.43</td>
<td style="text-align: right;">-24.35</td>
<td style="text-align: right;">-19.39</td>
<td style="text-align: right;">-64.27</td>
<td style="text-align: right;">-70.60</td>
<td style="text-align: right;">-67.43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13.72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">48.46</td>
<td style="text-align: right;">35.22</td>
<td style="text-align: right;">515.10</td>
<td style="text-align: right;">1257.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chiroptera</td>
<td style="text-align: left;">Pteropodidae</td>
<td style="text-align: left;">Acerodon</td>
<td style="text-align: left;">celebensis</td>
<td style="text-align: left;">Acerodon celebensis</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">382</td>
<td style="text-align: right;">133.49</td>
<td style="text-align: right;">201.55</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999.0</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: left;">978;1297;1658;2151;2655</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">-999</td>
<td style="text-align: right;">173613</td>
<td style="text-align: right;">3.74</td>
<td style="text-align: right;">-6.49</td>
<td style="text-align: right;">-1.37</td>
<td style="text-align: right;">126.34</td>
<td style="text-align: right;">118.75</td>
<td style="text-align: right;">122.55</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">92.68</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">229.41</td>
<td style="text-align: right;">215.47</td>
<td style="text-align: right;">1812.60</td>
<td style="text-align: right;">1909.2</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>El nombre del archivo está entre comillas y contiene la extensión del archivo.</p>
<p>&nbsp;</p>
<p>Tenga en cuenta que el valor -999 se utiliza para definir celdas vacías. Podemos leer estos valores como <em>NAs</em> al importar los datos utilizando el argumento ‘na.strings’:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># leer datos</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>datos_pantheria <span class="ot">&lt;-</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.table</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pantheria_mammals_data.txt"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">na.strings =</span> <span class="st">"-999"</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># explorar estructura</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_pantheria)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Order</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Family</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Genus</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Species</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">MSW93_Binomial</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X1.1_ActivityCycle</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.1_AdultBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X8.1_AdultForearmLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.1_AdultHeadBodyLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X2.1_AgeatEyeOpening_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X3.1_AgeatFirstBirth_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X18.1_BasalMetRate_mLO2hr</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.2_BasalMetRateMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X6.1_DietBreadth</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X7.1_DispersalAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X9.1_GestationLen_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X12.1_HabitatBreadth</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X22.1_HomeRange_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X22.2_HomeRange_Indiv_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X14.1_InterBirthInterval_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X15.1_LitterSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X16.1_LittersPerYear</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X17.1_MaxLongevity_m</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.3_NeonateBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.2_NeonateHeadBodyLen_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X21.1_PopulationDensity_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X10.1_PopulationGrpSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X23.1_SexualMaturityAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X10.2_SocialGrpSize</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X24.1_TeatNumber</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X12.2_Terrestriality</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X6.2_TrophicLevel</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X25.1_WeaningAge_d</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.4_WeaningBodyMass_g</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X13.3_WeaningHeadBodyLen_mm</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">References</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.5_AdultBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X16.2_LittersPerYear_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.6_NeonateBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X5.7_WeaningBodyMass_g_EXT</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.1_GR_Area_km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.2_GR_MaxLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.3_GR_MinLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.4_GR_MRLat_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.5_GR_MaxLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.6_GR_MinLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X26.7_GR_MRLong_dd</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.1_HuPopDen_Min_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.2_HuPopDen_Mean_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.3_HuPopDen_5p_n.km2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X27.4_HuPopDen_Change</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X28.1_Precip_Mean_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X28.2_Temp_Mean_01degC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X30.1_AET_Mean_mm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">X30.2_PET_Mean_mm</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Muridae</td>
<td style="text-align: left;">Abditomys</td>
<td style="text-align: left;">latidens</td>
<td style="text-align: left;">Abditomys latidens</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">268</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">223.99</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">2152</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">357</td>
<td style="text-align: right;">16.94</td>
<td style="text-align: right;">16.74</td>
<td style="text-align: right;">16.84</td>
<td style="text-align: right;">120.97</td>
<td style="text-align: right;">120.78</td>
<td style="text-align: right;">120.88</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">93.00</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">316.00</td>
<td style="text-align: right;">180.00</td>
<td style="text-align: right;">1443.00</td>
<td style="text-align: right;">1557.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Muridae</td>
<td style="text-align: left;">Abrawayaomys</td>
<td style="text-align: left;">ruschii</td>
<td style="text-align: left;">Abrawayaomys ruschii</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">2655</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">126137</td>
<td style="text-align: right;">-15.09</td>
<td style="text-align: right;">-19.84</td>
<td style="text-align: right;">-17.47</td>
<td style="text-align: right;">-40.52</td>
<td style="text-align: right;">-43.56</td>
<td style="text-align: right;">-42.04</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">21.21</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">107.06</td>
<td style="text-align: right;">209.10</td>
<td style="text-align: right;">1084.47</td>
<td style="text-align: right;">1402.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">bennettii</td>
<td style="text-align: left;">Abrocoma bennettii</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">251</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">4.86</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">27.6</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">142</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">543;890;1297;1492;2655</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">54616</td>
<td style="text-align: right;">-27.71</td>
<td style="text-align: right;">-35.58</td>
<td style="text-align: right;">-31.64</td>
<td style="text-align: right;">-69.40</td>
<td style="text-align: right;">-71.70</td>
<td style="text-align: right;">-70.55</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">63.15</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">20.44</td>
<td style="text-align: right;">17.66</td>
<td style="text-align: right;">213.09</td>
<td style="text-align: right;">1073.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">boliviensis</td>
<td style="text-align: left;">Abrocoma boliviensis</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">158</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">2655</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">5774</td>
<td style="text-align: right;">-17.44</td>
<td style="text-align: right;">-18.05</td>
<td style="text-align: right;">-17.75</td>
<td style="text-align: right;">-63.49</td>
<td style="text-align: right;">-64.51</td>
<td style="text-align: right;">-64.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">29.24</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">82.63</td>
<td style="text-align: right;">175.55</td>
<td style="text-align: right;">1171.61</td>
<td style="text-align: right;">1487.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rodentia</td>
<td style="text-align: left;">Abrocomidae</td>
<td style="text-align: left;">Abrocoma</td>
<td style="text-align: left;">cinerea</td>
<td style="text-align: left;">Abrocoma cinerea</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">194</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">109.64</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2.20</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">13.3</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">890;1297;1627;2655</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">381391</td>
<td style="text-align: right;">-14.43</td>
<td style="text-align: right;">-24.35</td>
<td style="text-align: right;">-19.39</td>
<td style="text-align: right;">-64.27</td>
<td style="text-align: right;">-70.60</td>
<td style="text-align: right;">-67.43</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">13.72</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">48.46</td>
<td style="text-align: right;">35.22</td>
<td style="text-align: right;">515.10</td>
<td style="text-align: right;">1257.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chiroptera</td>
<td style="text-align: left;">Pteropodidae</td>
<td style="text-align: left;">Acerodon</td>
<td style="text-align: left;">celebensis</td>
<td style="text-align: left;">Acerodon celebensis</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">382</td>
<td style="text-align: right;">133.49</td>
<td style="text-align: right;">201.55</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">978;1297;1658;2151;2655</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">173613</td>
<td style="text-align: right;">3.74</td>
<td style="text-align: right;">-6.49</td>
<td style="text-align: right;">-1.37</td>
<td style="text-align: right;">126.34</td>
<td style="text-align: right;">118.75</td>
<td style="text-align: right;">122.55</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">92.68</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">229.41</td>
<td style="text-align: right;">215.47</td>
<td style="text-align: right;">1812.60</td>
<td style="text-align: right;">1909.2</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="leer-archivos-.csv" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="leer-archivos-.csv"><span class="header-section-number">2.4</span> Leer archivos <em>.csv</em></h2>
<p>De nuevo, podemos descargar un archivo de ejemplo en línea:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bajar datos en zip</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/12/Clements-v2023-October-2023-csv.zip"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">destfile =</span> <span class="st">"clements_bird_list.zip"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># extraer zip</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="st">"clements_bird_list.zip"</span>, <span class="at">files =</span> <span class="st">"Clements-v2023-October-2023.csv"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># leer datos</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>clm_lst <span class="ot">&lt;-</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="st">"Clements-v2023-October-2023.csv"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clm_lst)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">sort.v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">species_code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">taxon_concept_id</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Clements.v2023.change</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">text.for.website.v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">English.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">scientific.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name.and.authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">range</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">order</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">family</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">extinct</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">extinct.year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sort.v2022</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">page.6.0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Clements, J. F., P. C. Rasmussen, T. S. Schulenberg, M. J. Iliff, T. A. Fredericks, J. A. Gerbracht, D. Lepage, A. Spencer, S. M. Billerman, B. L. Sullivan, and C. L. Wood. 2023. The eBird/Clements checklist of birds of the world: v2023. Downloaded from https://www.birds.cornell.edu/clementschecklist/download/</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">struth1</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">family</td>
<td style="text-align: left;">Ostriches</td>
<td style="text-align: left;">Struthionidae</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
<td style="text-align: right;">1</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">ostric2</td>
<td style="text-align: left;">avibase-2247CB05</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">species</td>
<td style="text-align: left;">Common Ostrich</td>
<td style="text-align: left;">Struthio camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus Linnaeus, 1758</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">comost1</td>
<td style="text-align: left;">avibase-E7F58C33</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Struthio camelus camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus camelus Linnaeus, 1758</td>
<td style="text-align: left;">Sahel of North Africa and the Sudan</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">comost2</td>
<td style="text-align: left;">avibase-06477478</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Struthio camelus syriacus</td>
<td style="text-align: left;">Rothschild, 1919</td>
<td style="text-align: left;">Struthio camelus syriacus Rothschild, 1919</td>
<td style="text-align: left;">Formerly Syrian and Arabian deserts. Extinct ca. 1966</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1966</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">comost3</td>
<td style="text-align: left;">avibase-BF8ED7FA</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Struthio camelus massaicus</td>
<td style="text-align: left;">Neumann, 1898</td>
<td style="text-align: left;">Struthio camelus massaicus Neumann, 1898</td>
<td style="text-align: left;">S Kenya and e Tanzania</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;"></td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">2</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>También puede descargar manualmente el archivo desde <a href="https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/12/Clements-v2023-October-2023-csv.zip">aquí</a></p>
<p>&nbsp;</p>
<p>Como en el ejemplo anterior, podemos decirle a <code>R</code> cómo identificar las celdas vacías utilizando el argumento <code>na.strings</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>clm_lst <span class="ot">&lt;-</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read.csv</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Clements-v2023-October-2023.csv"</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">na.strings =</span> <span class="st">""</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clm_lst)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">sort.v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">species_code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">taxon_concept_id</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Clements.v2023.change</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">text.for.website.v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">English.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">scientific.name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name.and.authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">range</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">order</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">family</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">extinct</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">extinct.year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sort.v2022</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">page.6.0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Clements, J. F., P. C. Rasmussen, T. S. Schulenberg, M. J. Iliff, T. A. Fredericks, J. A. Gerbracht, D. Lepage, A. Spencer, S. M. Billerman, B. L. Sullivan, and C. L. Wood. 2023. The eBird/Clements checklist of birds of the world: v2023. Downloaded from https://www.birds.cornell.edu/clementschecklist/download/</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">struth1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">family</td>
<td style="text-align: left;">Ostriches</td>
<td style="text-align: left;">Struthionidae</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">ostric2</td>
<td style="text-align: left;">avibase-2247CB05</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">species</td>
<td style="text-align: left;">Common Ostrich</td>
<td style="text-align: left;">Struthio camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus Linnaeus, 1758</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">comost1</td>
<td style="text-align: left;">avibase-E7F58C33</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus camelus Linnaeus, 1758</td>
<td style="text-align: left;">Sahel of North Africa and the Sudan</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">comost2</td>
<td style="text-align: left;">avibase-06477478</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus syriacus</td>
<td style="text-align: left;">Rothschild, 1919</td>
<td style="text-align: left;">Struthio camelus syriacus Rothschild, 1919</td>
<td style="text-align: left;">Formerly Syrian and Arabian deserts. Extinct ca. 1966</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1966</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">comost3</td>
<td style="text-align: left;">avibase-BF8ED7FA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus massaicus</td>
<td style="text-align: left;">Neumann, 1898</td>
<td style="text-align: left;">Struthio camelus massaicus Neumann, 1898</td>
<td style="text-align: left;">S Kenya and e Tanzania</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">2</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="leer-archivos-de-excel" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="leer-archivos-de-excel"><span class="header-section-number">2.5</span> Leer archivos de Excel</h2>
<p>La mayoría de los investigadores introducen los datos en hojas de cálculo Excel. Así que sería bastante práctico leer los datos directamente desde ahí. Para leer archivos <em>xls</em> y <em>xlsx</em> necesitamos instalar el paquete “readxl” (hay otros paquetes que se pueden utilizar pero todos funcionan de forma similar):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="at">pkgs =</span> <span class="st">"readxl"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>Como hicimos anteriormente, descargue un archivo de ejemplo de un repositorio en línea. En este caso es la misma lista de taxonomía de aves de Clements en formato <em>xlsx</em>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="st">"https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/10/Clements-v2023-October-2023.xlsx"</span>, <span class="at">destfile =</span> <span class="st">"clements_bird_list.xlsx"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>También puede descargar manualmente el archivo desde <a href="http://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2017/08/eBird_Taxonomy_v2017_18Aug2017.xlsx">aquí</a></p>
<p>&nbsp;</p>
<p>Ahora podemos utilizar la función <code>read_excel()</code> para leer el archivo:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># leer archivo</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>clm_lst2 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"clements_bird_list.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clm_lst2)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">sort v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">species_code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">taxon_concept_id</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Clements v2023 change</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">text for website v2023</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">category</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">English name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">scientific name</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">name and authority</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">range</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">order</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">family</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">extinct</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">extinct year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sort v2022</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">page 6.0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Clements, J. F., P. C. Rasmussen, T. S. Schulenberg, M. J. Iliff, T. A. Fredericks, J. A. Gerbracht, D. Lepage, A. Spencer, S. M. Billerman, B. L. Sullivan, and C. L. Wood. 2023. The eBird/Clements checklist of birds of the world: v2023. Downloaded from https://www.birds.cornell.edu/clementschecklist/download/</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">struth1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">family</td>
<td style="text-align: left;">Ostriches</td>
<td style="text-align: left;">Struthionidae</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: left;">ostric2</td>
<td style="text-align: left;">avibase-2247CB05</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">species</td>
<td style="text-align: left;">Common Ostrich</td>
<td style="text-align: left;">Struthio camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus Linnaeus, 1758</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: left;">comost1</td>
<td style="text-align: left;">avibase-E7F58C33</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus camelus</td>
<td style="text-align: left;">Linnaeus, 1758</td>
<td style="text-align: left;">Struthio camelus camelus Linnaeus, 1758</td>
<td style="text-align: left;">Sahel of North Africa and the Sudan</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: left;">comost2</td>
<td style="text-align: left;">avibase-06477478</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus syriacus</td>
<td style="text-align: left;">Rothschild, 1919</td>
<td style="text-align: left;">Struthio camelus syriacus Rothschild, 1919</td>
<td style="text-align: left;">Formerly Syrian and Arabian deserts. Extinct ca. 1966</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1966</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: left;">comost3</td>
<td style="text-align: left;">avibase-BF8ED7FA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">subspecies</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">Struthio camelus massaicus</td>
<td style="text-align: left;">Neumann, 1898</td>
<td style="text-align: left;">Struthio camelus massaicus Neumann, 1898</td>
<td style="text-align: left;">S Kenya and e Tanzania</td>
<td style="text-align: left;">Struthioniformes</td>
<td style="text-align: left;">Struthionidae (Ostriches)</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">2</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>You need to specify the file name (including extension) and the excel sheet (tab) name. <code>read_excel()</code> auto detects the format from the file extension. The functions <code>read_xls()</code> and <code>read_xlsx()</code> can be used to read files without extension.</p>
<p>&nbsp;</p>
<section id="ejercicio-1" class="level3 alert alert-info" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="ejercicio-1"><span class="header-section-number">2.5.1</span> Ejercicio 1</h3>
<p>Todas las funciones predeterminadas para introducir datos en <code>R</code> tienen una contrapartida para exportar el mismo tipo de datos. Los nombres de estas otras funciones son similares a los de las de lectura de datos, aunque suelen empezar por “write” o “save”.</p>
<p>1.1 ¿Cuáles son los nombres de las funciones por defecto para exportar los formatos de datos que hemos utilizado anteriormente? (pista: prueba <code>apropos</code> para comprobar qué funciones están disponibles)</p>
<p>1.2 Exportar los datos de mamíferos como archivo <em>.csv</em>.</p>
<p>1.3 Vuelva a exportar los datos de mamíferos, esta vez excluyendo los nombres de las filas</p>
<p>1.4 Leer el archivo <em>.csv</em> con <code>read.table</code>.</p>
<p>1.5 ¿Qué otros paquetes pueden importar archivos excel en <code>R</code>?</p>
<p>1.6 ¿Se puede exportar un archivo excel o añadir datos a un archivo excel existente desde <code>R</code>?</p>
<p>1.7 Utilizando el archivo “clements_bird_list.csv”, ¿cómo le diría a <code>R</code> que leyera tanto “Rheiformes” como “Ostriches” como celdas vacías (sin dejar de leer las celdas vacías como celdas vacías)?</p>
</section>
<hr>
</section>
</section>
<section id="formato-de-los-datos" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Formato de los datos</h1>
<p>Esta sección trata de la organización de los datos de forma que se simplifique su manejo, exploración y análisis. Como probablemente puedas adivinar, cuanto más consistentes se hacen las cosas, más predecibles se vuelven. Esto también se aplica a los datos. Si los datos se organizan con la misma lógica, cabe esperar que el mismo tipo de manipulaciones y análisis sean aplicables a distintos conjuntos de datos. La organización de los datos es un aspecto clave (pero normalmente descuidado) del flujo de trabajo del análisis de datos. Cuando los datos están bien organizados, se dedica mucho menos tiempo a formatearlos y más a las cuestiones analíticas reales.</p>
<p>Cuando sea posible, ejecutaremos los ejemplos de formateo de datos utilizando tanto el paquete ‘tidyr’ como las funciones base de <code>R</code>.</p>
<section id="datos-compactos" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="datos-compactos"><span class="header-section-number">3.1</span> Datos compactos</h2>
<p>Datos compactos (“tidy data”) es una lógica para organizar conjuntos de datos de forma coherente e intuitiva. Para ejecutar parte del código de abajo necesitarás los paquetes ‘tidyr’ y ‘dplyr’, que se pueden instalar/cargar de la siguiente manera:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="at">pkgs =</span> <span class="st">"tidyr"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="at">pkgs =</span> <span class="st">"dplyr"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<p>Los mismos datos pueden representarse de muchas maneras. En el ejemplo siguiente, cada conjunto de datos muestra exactamente los mismos valores de cuatro variables <em>país</em>, <em>año</em>, <em>población</em> y <em>casos</em>, pero en cada conjunto de datos los valores están organizados de forma diferente. Los datos muestran el número de casos de tuberculosis en Afganistán, Brasil y China entre 1999 y 2000:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table2)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">745</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">37737</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">212258</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">213766</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table3)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745/19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666/20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737/172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488/174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258/1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>O incluso repartidos en 2 conjuntos de datos diferentes:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table4a)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1999</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">213766</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table4b)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1999</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">19987071</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">172006362</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1272915272</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>Todos estos conjuntos de datos contenían los mismos datos subyacentes. Sin embargo, no son igual de fáciles de utilizar.</p>
<p>Existen tres reglas interrelacionadas para ordenar un conjunto de datos:</p>
<ol type="1">
<li><p>Cada variable debe tener su propia columna</p></li>
<li><p>Each observation must have its own row</p></li>
<li><p>Cada valor debe tener su propia celda</p></li>
</ol>
<p>Esta figura muestra las reglas visualmente:</p>
<p><img src="./images/tidy-1.png" alt="tidy data" height="500" width="750"> <font size="2">* Modified from <i>R for Data Science</i></font> &nbsp;</p>
<p>Estas tres reglas están interrelacionadas porque es imposible satisfacer sólo dos de las tres. Esa interrelación conduce a un conjunto aún más sencillo de instrucciones prácticas:</p>
<ol type="1">
<li><p>Ponga cada conjunto de datos en un marco de datos</p></li>
<li><p>Ponga cada variable en una columna</p></li>
</ol>
<p>&nbsp;</p>
<p>En el ejemplo anterior, sólo la <code>tabla1</code> está ordenada. Es la única representación en la que cada columna es una variable. Formatear los datos de esta manera tiene dos ventajas principales:</p>
<ol type="1">
<li><p>Si tienes una estructura de datos consistente, es más fácil aprender las herramientas que trabajan con ella porque tienen una uniformidad subyacente</p></li>
<li><p>Colocar las variables en columnas se ajusta bien a la naturaleza vectorial de <code>R</code>. Como hemos visto, las funciones incorporadas en <code>R</code> trabajan con vectores de valores. Esto hace que la transformación de datos ordenados resulte especialmente natural.</p></li>
</ol>
<p>&nbsp;</p>
<section id="ejercicio-2" class="level3 alert alert-info" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="ejercicio-2"><span class="header-section-number">3.1.1</span> Ejercicio 2</h3>
<p>2.1 Describa cómo están organizadas las variables y observaciones en cada uno de los marcos de datos de muestreo</p>
<p>2.2 Calcule la tasa de casos por 10000 personas para “tabla1”, “tabla2” y “tabla4a”/“tabla4b”.</p>
</section>
<hr>
</section>
<section id="recopilación-de-datos" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="recopilación-de-datos"><span class="header-section-number">3.2</span> Recopilación de datos</h2>
<p>Un problema habitual es un conjunto de datos en el que algunos de los nombres de las columnas no son nombres de variables, sino valores de una variable. Tomemos “tabla4a”: los nombres de las columnas 1999 y 2000 representan valores de la variable año, y cada fila representa dos observaciones, no una:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table4a)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1999</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">213766</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>Para ordenar un conjunto de datos como éste, necesitamos <strong>reunir</strong> esas columnas en un nuevo par de variables. Para ello necesitamos tres parámetros:</p>
<ul>
<li><p>El conjunto de columnas que representan valores, no variables. En este ejemplo, son las columnas <code>1999</code> y <code>2000</code>.</p></li>
<li><p>El nombre de la variable cuyos valores forman los nombres de las columnas. En la sintaxis ‘tidyr’ se llama <code>key</code>, que en este caso es <code>year</code>.</p></li>
<li><p>El nombre de la variable cuyos valores se reparten por las celdas. En la sintaxis ‘tidyr’ que se llama que <code>value</code>, que en este caso es el número de <code>cases</code></p></li>
</ul>
<p>Estos parámetros se pueden utilizar para crear un conjunto de datos ordenados utilizando la función <code>gather()</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gather</span>(table4a, <span class="at">key =</span> <span class="st">"year"</span>, <span class="at">value =</span> <span class="st">"cases"</span>, <span class="st">`</span><span class="at">1999</span><span class="st">`</span>, <span class="st">`</span><span class="at">2000</span><span class="st">`</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">745</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">37737</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">212258</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">213766</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>Podemos visualizar este formato de la siguiente manera:</p>
<p><img src="./images/gather.png" alt="gather data" height="500" width="850"> <font size="2">* Modified from <i>R for Data Science</i></font> &nbsp;</p>
<p><code>gather()</code> también se puede utilizar para ordenar <code>table4b</code>. La única diferencia es la variable almacenada en los valores de las celdas:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gather</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> table4b,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">key =</span> <span class="st">"year"</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="st">"population"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">1999</span><span class="st">`</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">2000</span><span class="st">`</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>Para combinar las versiones ordenadas de las tablas <code>table4a</code> y <code>table4b</code> en un único marco de datos (o ‘tibble’), podemos utilizar <code>dplyr::left_join()</code> o <code>merge()</code> de la base <code>R</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>tidy4a <span class="ot">&lt;-</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(table4a, <span class="at">key =</span> <span class="st">"year"</span>, <span class="at">value =</span> <span class="st">"cases"</span>, <span class="st">`</span><span class="at">1999</span><span class="st">`</span>, <span class="st">`</span><span class="at">2000</span><span class="st">`</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>tidy4b <span class="ot">&lt;-</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(table4b, <span class="at">key =</span> <span class="st">"year"</span>, <span class="at">value =</span> <span class="st">"population"</span>, <span class="st">`</span><span class="at">1999</span><span class="st">`</span>, <span class="st">`</span><span class="at">2000</span><span class="st">`</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> tidy4a,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> tidy4b,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"country"</span>, <span class="st">"year"</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">merge</span>(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> tidy4a,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> tidy4b,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"country"</span>, <span class="st">"year"</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">1999</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">2000</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
</section>
<section id="expandir-spreading" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="expandir-spreading"><span class="header-section-number">3.3</span> Expandir (spreading)</h2>
<p>El expandir es lo contrario de la agrupación. Se utiliza cuando una observación está dispersa en varias filas. Por ejemplo, en la <code>tabla2</code> una observación es un país en un año, pero cada observación está dispersa en dos filas:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>table2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">745</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">2666</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">37737</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">80488</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">212258</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">cases</td>
<td style="text-align: right;">213766</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">population</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>Para ordenar este conjunto de datos, sólo necesitamos dos parámetros:</p>
<ul>
<li><p>La columna que contiene los nombres de las variables, la columna <code>key</code>. Aquí, es <code>type</code>.</p></li>
<li><p>La columna que contiene los valores de las variables múltiples, la columna <code>value</code>. la columna <code>value</code>. Aquí es <code>count</code>.</p></li>
</ul>
<p>&nbsp;</p>
<p>Para hacer esto podemos usar <code>spread()</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spread</span>(table2, <span class="at">key =</span> <span class="st">"type"</span>, <span class="at">value =</span> <span class="st">"count"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">745</td>
<td style="text-align: right;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">2666</td>
<td style="text-align: right;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">37737</td>
<td style="text-align: right;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">80488</td>
<td style="text-align: right;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">212258</td>
<td style="text-align: right;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">213766</td>
<td style="text-align: right;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>&nbsp;</p>
<p>que puede visualizarse de la siguiente manera:</p>
<p><img src="./images/spreading.png" alt="spreading data" height="500" width="850"> <font size="2">* Modified from <i>R for Data Science</i></font> &nbsp;</p>
<p><code>spread()</code> y <code>gather()</code> son funciones complementarias. <code>gather()</code> hace las tablas anchas más estrechas y largas; <code>spread()</code> hace las tablas largas más cortas y anchas.</p>
<p>&nbsp;</p>
<section id="ejercicio-3" class="level3 alert alert-info" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="ejercicio-3"><span class="header-section-number">3.3.1</span> Ejercicio 3</h3>
<p>3.1 Ordena el siguiente conjunto de datos sobre la altura de los árboles de 2 especies:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>plnt_sz <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">forest =</span> <span class="fu">c</span>(<span class="st">"old_growth"</span>, <span class="st">"disturbed"</span>),</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Species_1 =</span> <span class="fu">c</span>(<span class="dv">154</span>, <span class="dv">160</span>),</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Species_2 =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">113</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<p>&nbsp;</p>
<hr>
</section>
<section id="separar-y-unir" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="separar-y-unir"><span class="header-section-number">3.4</span> Separar y unir</h2>
<p>Hasta ahora hemos arreglado “tabla2” y “tabla4”, pero no “tabla3”. La “tabla3” tiene un problema diferente: tenemos una columna (<em>tasa</em>) que contiene dos variables (<em>casos</em> y <em>población</em>). Esto puede solucionarse con la función <code>separate()</code> . También veremos su complemento <code>unite()</code>, que se utiliza cuando una sola variable está repartida en varias columnas.</p>
<p>&nbsp;</p>
<section id="separar" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="separar"><span class="header-section-number">3.4.1</span> Separar</h3>
<p>La función <code>separate()</code> separa una columna en varias columnas, dividiéndolas donde aparezca un carácter separador. Por ejemplo, <code>table3</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(table3)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745/19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666/20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737/172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488/174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258/1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>Visualmente hace algo así:</p>
<p><img src="./images/separate.png" alt="separate data" height="500" width="850"> <font size="2">* Modified from <i>R for Data Science</i></font></p>
<p>&nbsp;</p>
<p>La columna <em>tasa</em> contiene las variables <em>casos</em> y <em>población</em>, y necesitamos separarla en dos variables. <code>separate()</code> toma el nombre de la columna a separar, y los nombres de las nuevas columnas a crear:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">separate</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> table3,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> rate,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"population"</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745</td>
<td style="text-align: left;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666</td>
<td style="text-align: left;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737</td>
<td style="text-align: left;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488</td>
<td style="text-align: left;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258</td>
<td style="text-align: left;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766</td>
<td style="text-align: left;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>De forma predeterminada, <code>separate()</code> dividirá basándose en cualquier carácter no alfanumérico (es decir, un carácter que no sea un número o una letra). En el código anterior, <code>separate()</code> divide los valores de <em>rate</em> en los caracteres de la barra diagonal. Esto puede indicarse explícitamente (para evitar errores):</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>tb3 <span class="ot">&lt;-</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> table3,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> rate,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"population"</span>),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>tb3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745</td>
<td style="text-align: left;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666</td>
<td style="text-align: left;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737</td>
<td style="text-align: left;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488</td>
<td style="text-align: left;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258</td>
<td style="text-align: left;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766</td>
<td style="text-align: left;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [6 × 4] (S3: tbl_df/tbl/data.frame)
 $ country   : chr [1:6] "Afghanistan" "Afghanistan" "Brazil" "Brazil" ...
 $ year      : num [1:6] 1999 2000 1999 2000 1999 ...
 $ cases     : chr [1:6] "745" "2666" "37737" "80488" ...
 $ population: chr [1:6] "19987071" "20595360" "172006362" "174504898" ...</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>Tenga en cuenta que <em>case</em> y <em>population</em> son columnas de caracteres. Por defecto <code>separate()</code> deja el tipo de las nuevas columnas como en la original. En este caso esto no es lo ideal ya que realmente son números. Podemos pedir a <code>separate()</code> que intente convertir a tipos mejores usando <code>convert = TRUE</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>tb3 <span class="ot">&lt;-</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> table3,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> rate,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"cases"</span>, <span class="st">"population"</span>),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">convert =</span> <span class="cn">TRUE</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tb3)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [6 × 4] (S3: tbl_df/tbl/data.frame)
 $ country   : chr [1:6] "Afghanistan" "Afghanistan" "Brazil" "Brazil" ...
 $ year      : num [1:6] 1999 2000 1999 2000 1999 ...
 $ cases     : int [1:6] 745 2666 37737 80488 212258 213766
 $ population: int [1:6] 19987071 20595360 172006362 174504898 1272915272 1280428583</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p>También puede pasar un vector de enteros a <code>sep</code>, que serán interpretados como posiciones en las que dividir. Los valores positivos comienzan en 1 en el extremo izquierdo de las cadenas; los valores negativos comienzan en -1 en el extremo derecho de las cadenas. Cuando se usan enteros para separar cadenas, la longitud de <code>sep</code> debe ser uno menos que el número de nombres en <code>into</code>. Puede utilizarlo para separar los dos últimos dígitos de cada año:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">separate</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> table3,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> year,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"century"</span>, <span class="st">"year"</span>),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="dv">2</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">century</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">99</td>
<td style="text-align: left;">745/19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">20</td>
<td style="text-align: left;">00</td>
<td style="text-align: left;">2666/20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">99</td>
<td style="text-align: left;">37737/172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">20</td>
<td style="text-align: left;">00</td>
<td style="text-align: left;">80488/174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">19</td>
<td style="text-align: left;">99</td>
<td style="text-align: left;">212258/1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">20</td>
<td style="text-align: left;">00</td>
<td style="text-align: left;">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>La separación de columnas también se puede hacer con la base <code>R</code>, aunque requiere un poco más de codificación:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>table3<span class="sc">$</span>cases <span class="ot">&lt;-</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sapply</span>(table3<span class="sc">$</span>rate, <span class="cf">function</span>(x) {</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">try</span>(<span class="fu">strsplit</span>(x, <span class="st">"/"</span>)[[<span class="dv">1</span>]][<span class="dv">1</span>])</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">USE.NAMES =</span> <span class="cn">FALSE</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>table3<span class="sc">$</span>population <span class="ot">&lt;-</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sapply</span>(table3<span class="sc">$</span>rate, <span class="cf">function</span>(x) {</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">try</span>(<span class="fu">strsplit</span>(x, <span class="st">"/"</span>)[[<span class="dv">1</span>]][<span class="dv">2</span>])</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  },</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">USE.NAMES =</span> <span class="cn">FALSE</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>tb3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">rate</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">cases</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">745/19987071</td>
<td style="text-align: left;">745</td>
<td style="text-align: left;">19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">2666/20595360</td>
<td style="text-align: left;">2666</td>
<td style="text-align: left;">20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">37737/172006362</td>
<td style="text-align: left;">37737</td>
<td style="text-align: left;">172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">80488/174504898</td>
<td style="text-align: left;">80488</td>
<td style="text-align: left;">174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: right;">1999</td>
<td style="text-align: left;">212258/1272915272</td>
<td style="text-align: left;">212258</td>
<td style="text-align: left;">1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: right;">2000</td>
<td style="text-align: left;">213766/1280428583</td>
<td style="text-align: left;">213766</td>
<td style="text-align: left;">1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [6 × 4] (S3: tbl_df/tbl/data.frame)
 $ country   : chr [1:6] "Afghanistan" "Afghanistan" "Brazil" "Brazil" ...
 $ year      : num [1:6] 1999 2000 1999 2000 1999 ...
 $ cases     : chr [1:6] "745" "2666" "37737" "80488" ...
 $ population: chr [1:6] "19987071" "20595360" "172006362" "174504898" ...</code></pre>
</div>
</div>
<p>&nbsp;</p>
</section>
</section>
<section id="unir" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="unir"><span class="header-section-number">3.5</span> Unir</h2>
<p><code>unite()</code> es la inversa de <code>separate()</code>: combinar varias columnas en una sola:</p>
<p><img src="./images/unite.png" alt="unite data" height="500" width="850"> <font size="2">* Modified from <i>R for Data Science</i></font></p>
<p>&nbsp;</p>
<p>Sin embargo, la necesitará con mucha menos frecuencia que <code>separate()</code>.</p>
<p>Podemos utilizar <code>unite()</code> para volver a unir las columnas <em>century</em> y <em>year</em> que creamos anteriormente:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unite</span>(<span class="at">data =</span> table5, <span class="at">col =</span> <span class="st">"new"</span>, <span class="st">"century"</span>, <span class="st">"year"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">country</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">new</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">19_99</td>
<td style="text-align: left;">745/19987071</td>
</tr>
<tr class="even">
<td style="text-align: left;">Afghanistan</td>
<td style="text-align: left;">20_00</td>
<td style="text-align: left;">2666/20595360</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">19_99</td>
<td style="text-align: left;">37737/172006362</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: left;">20_00</td>
<td style="text-align: left;">80488/174504898</td>
</tr>
<tr class="odd">
<td style="text-align: left;">China</td>
<td style="text-align: left;">19_99</td>
<td style="text-align: left;">212258/1272915272</td>
</tr>
<tr class="even">
<td style="text-align: left;">China</td>
<td style="text-align: left;">20_00</td>
<td style="text-align: left;">213766/1280428583</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
</div>
<p>En esta función también podemos utilizar el argumento <code>sep</code> (aunque en este ejemplo no se ha especificado).</p>
<p>&nbsp;</p>
<section id="ejercicio-4" class="level3 alert alert-info" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="ejercicio-4"><span class="header-section-number">3.5.1</span> Ejercicio 4</h3>
<p><br></p>
<p>4.1 Una <em>century</em> y <em>year</em> de la “tabla5” usando <code>R</code> básico (pista: <code>paste()</code>)</p>
</section>
</section>
</section>
<section id="exportar-datos" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Exportar datos</h1>
<p>Probablemente el formato mas común para exportar datos de <code>R</code> es <em>.csv</em>. La función <code>write.csv</code> permite guardar cuadros de datos (data frame) o matrices (u otros objetos que se puedan convertir en un cuadro de datos), como archivos .csv. Por ejemplo, podemos guardar el cuadro de datos <code>iris</code> de esta forma:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(<span class="at">x =</span> iris, <span class="at">file =</span> <span class="st">"iris.csv"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Esta función incluye el número de fila como una columna de forma predeterminada. Esto puede hacer que, cuando leemos y guardamos varias veces los datos, se acumulen las columnas con el número de fila. Por tanto es conveniente excluir los números de fila cuando se guardan estos archivos. Esto lo podemos hacer usando el argumento <code>row.names</code> de esta forma:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> iris,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"iris.csv"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="cn">FALSE</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>También puede ser útil guardar el archivo en un directorio diferente al directorio de trabajo actual, sin tener que cambiarlo con <code>setwd()</code>. Esto lo podemos hacer incluyendo la función <code>file.path()</code> así:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> iris,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="fu">file.path</span>(<span class="st">"RUTA_AL_DIRECTORIO"</span>, <span class="st">"iris.csv"</span>),</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="cn">FALSE</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Archivos <em>.txt</em> pueden ser creados con la función <code>write.table</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> iris,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="fu">file.path</span>(<span class="st">"RUTA_AL_DIRECTORIO"</span>, <span class="st">"iris.txt"</span>),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note el argumento <code>sep = "\t"</code> que indica que las columnas estarán separadas por tabulaciones.</p>
<p>Por último, también podemos usar la función <code>write_xlsx</code> del paquete <code>writexl</code> para guardar archivos en el formato de microsoft <em>.xlsx</em>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"writexl"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(writexl)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write_xlsx</span>(<span class="at">x =</span> iris, <span class="at">path =</span> <span class="st">"iris.xlsx"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp;</p>
<hr>
<section id="referencias" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="referencias"><span class="header-section-number">4.1</span> Referencias</h2>
<ul>
<li><p>Clements, J. F., T. S. Schulenberg, M. J. Iliff, D. Roberson, T. A. Fredericks, B. L. Sullivan, and C. L. Wood. 2017. <em>The eBird/Clements checklist of birds of the world: v2016</em>.</p></li>
<li><p>Jones, Jon Bielby, Marcel Cardillo, Susanne A. Fritz, Justin O’Dell, C. David L. Orme, Kamran Safi, Wes Sechrest, Elizabeth H. Boakes, Chris Carbone, Christina Connolly, Michael J. Cutts, Janine K. Foster, Richard Grenyer, Michael Habib, Christopher A. Plaster, Samantha A. Price, Elizabeth A. Rigby, Janna Rist, Amber Teacher, Olaf R. P. Bininda-Emonds, John L. Gittleman, Georgina M. Mace, and Andy Purvis. 2009. <em>PanTHERIA: a species-level database of life history, ecology, and geography of extant and recently extinct mammals</em>. Ecology 90:2648.</p></li>
<li><p>Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for data science: import, tidy, transform, visualize, and model data</em>. <a href="http://r4ds.had.co.nz">website</a></p></li>
<li><p><a href="https://www.datacamp.com/community/tutorials/r-data-import-tutorial">Data import tutorial- DataCamp</a></p></li>
</ul>
<hr>
</section>
<section id="información-de-la-sesión" class="level2 unnumbered unlisted">
<h2 class="unnumbered unlisted anchored" data-anchor-id="información-de-la-sesión">Información de la sesión</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.1 (2024-06-14)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 22.04.4 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=es_CR.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=es_CR.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=es_CR.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Costa_Rica
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] dplyr_1.1.4        tidyr_1.3.1        readxl_1.4.3       kableExtra_1.4.0  
[5] RColorBrewer_1.1-3 viridis_0.6.5      viridisLite_0.4.2  ggplot2_3.5.1     
[9] knitr_1.48        

loaded via a namespace (and not attached):
 [1] gtable_0.3.5        jsonlite_1.8.8      highr_0.11         
 [4] crayon_1.5.3        compiler_4.4.1      tidyselect_1.2.1   
 [7] xml2_1.3.6          stringr_1.5.1       gridExtra_2.3      
[10] systemfonts_1.1.0   scales_1.3.0        yaml_2.3.10        
[13] fastmap_1.2.0       R6_2.5.1            generics_0.1.3     
[16] htmlwidgets_1.6.4   tibble_3.2.1        munsell_0.5.1      
[19] xaringanExtra_0.8.0 svglite_2.1.3       pillar_1.9.0       
[22] rlang_1.1.4         utf8_1.2.4          stringi_1.8.4      
[25] xfun_0.46           cli_3.6.3           withr_3.0.1        
[28] magrittr_2.0.3      digest_0.6.36       grid_4.4.1         
[31] rstudioapi_0.16.0   remotes_2.5.0       packrat_0.9.2      
[34] lifecycle_1.0.4     vctrs_0.6.5         evaluate_0.24.0    
[37] glue_1.7.0          cellranger_1.1.0    sketchy_1.0.3      
[40] fansi_1.0.6         colorspace_2.1-1    purrr_1.0.2        
[43] rmarkdown_2.27      tools_4.4.1         pkgconfig_2.0.3    
[46] htmltools_0.5.8.1  </code></pre>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/marce10\.github\.io\/aprendizaje_estadistico_2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb50" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &lt;font size="7"&gt;&lt;b&gt;Importar y exportar datos en R&lt;/b&gt;&lt;/font&gt;</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,echo=FALSE,message=FALSE}</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="in">options("digits" = 5)</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="in">options("digits.secs" = 3)</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="in">library(knitr)</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="in">library(viridis)</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(RColorBrewer)</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(kableExtra)</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="in">theme_set(theme_classic(base_size = 50))</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="in">cols &lt;- brewer.pal(10, "Spectral")</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = TRUE, message=FALSE}</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="in">sketchy::load_packages(c(</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a><span class="in">  "RColorBrewer",</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a><span class="in">  "ggplot2",</span></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a><span class="in">  "readxl",</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a><span class="in">  "tidyr",</span></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a><span class="in">  "dplyr"</span></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a><span class="in">))</span></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a><span class="fu">### Objetivos del manual {.unnumbered .unlisted}</span></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Familiarizarse con las funciones principales para importar y exportar datos</span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Conocer buenas prácticas para el manejo de datos que faciliten su uso en <span class="in">`R`</span></span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-warning}</span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a><span class="fu"># Antes de importar datos</span></span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a>Existen algunos hábitos para ingresar datos que facilitarán la correcta importación de datos en <span class="in">`R`</span>:</span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-48"><a href="#cb50-48" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Reservar la primera fila para la cabecera</span>
<span id="cb50-49"><a href="#cb50-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-50"><a href="#cb50-50" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Reserve la primera columna a la unidad de muestreo</span>
<span id="cb50-51"><a href="#cb50-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-52"><a href="#cb50-52" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Utilice "<span class="sc">\_</span>","." o "-" en lugar de espacios vacíos (por ejemplo, "Cornell_University")</span>
<span id="cb50-53"><a href="#cb50-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-54"><a href="#cb50-54" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Utilice nombres cortos</span>
<span id="cb50-55"><a href="#cb50-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-56"><a href="#cb50-56" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Evite utilizar símbolos poco comunes como ?, \$,%, \^, &amp;, <span class="sc">\*</span>, (, ),-,#, ?,,,<span class="sc">\&lt;</span>,<span class="sc">\&gt;</span>, /, \|, , <span class="sc">\[</span> ,<span class="sc">\]</span> ,{, y }</span>
<span id="cb50-57"><a href="#cb50-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-58"><a href="#cb50-58" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Sea consistente al referirse a las mismas cosas (es decir, escríbalas siempre de la misma manera)</span>
<span id="cb50-59"><a href="#cb50-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-60"><a href="#cb50-60" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Elimine cualquier comentario adicional fuera de las columnas del conjunto de datos</span>
<span id="cb50-61"><a href="#cb50-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-62"><a href="#cb50-62" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Indique los valores que faltan con <span class="in">`NA`</span> (o al menos con espacios vacíos)</span>
<span id="cb50-63"><a href="#cb50-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-64"><a href="#cb50-64" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Ni se le ocurra codificar los datos por colores en Excel</span>
<span id="cb50-65"><a href="#cb50-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-66"><a href="#cb50-66" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>No fusione celdas</span>
<span id="cb50-67"><a href="#cb50-67" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-68"><a href="#cb50-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-69"><a href="#cb50-69" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-70"><a href="#cb50-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-71"><a href="#cb50-71" aria-hidden="true" tabindex="-1"></a><span class="fu"># Importar datos</span></span>
<span id="cb50-72"><a href="#cb50-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-73"><a href="#cb50-73" aria-hidden="true" tabindex="-1"></a>La importación de datos en <span class="in">`R`</span> es un paso crucial y aparentemente sencillo. Sin embargo, dada la diversidad de formatos de datos y sistemas operativos, así como las numerosas fuentes de error posibles, la introducción de datos en <span class="in">`R`</span> no siempre es tan sencilla. La mayoría de los problemas están relacionados con</span>
<span id="cb50-74"><a href="#cb50-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-75"><a href="#cb50-75" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Decirle a <span class="in">`R`</span> en qué directorio se encuentra el archivo</span>
<span id="cb50-76"><a href="#cb50-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-77"><a href="#cb50-77" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Decirle a <span class="in">`R`</span> cómo están codificados los datos (por ejemplo, separados por comas, anchura fija, etc.).</span>
<span id="cb50-78"><a href="#cb50-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-79"><a href="#cb50-79" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Manejo de celdas vacías y caracteres poco comunes</span>
<span id="cb50-80"><a href="#cb50-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-81"><a href="#cb50-81" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-82"><a href="#cb50-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-83"><a href="#cb50-83" aria-hidden="true" tabindex="-1"></a><span class="fu">## Establecer el directorio de trabajo</span></span>
<span id="cb50-84"><a href="#cb50-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-85"><a href="#cb50-85" aria-hidden="true" tabindex="-1"></a>Para leer datos en R es necesario especificar el directorio de trabajo. Se puede establecer con la función <span class="in">`setwd()`</span>. La forma de hacerlo depende del sistema operativo (windows, mac, Linux). La sintaxis del directorio sigue la estructura anidada de las carpetas. Por ejemplo:</span>
<span id="cb50-86"><a href="#cb50-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-87"><a href="#cb50-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-88"><a href="#cb50-88" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("/home/m/Desktop/")</span></span>
<span id="cb50-89"><a href="#cb50-89" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-90"><a href="#cb50-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-91"><a href="#cb50-91" aria-hidden="true" tabindex="-1"></a>... establece el directorio de trabajo en la carpeta "Desktop", que se encuentra dentro de "m", que se encuentra dentro de "home".</span>
<span id="cb50-92"><a href="#cb50-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-93"><a href="#cb50-93" aria-hidden="true" tabindex="-1"></a>..;</span>
<span id="cb50-94"><a href="#cb50-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-95"><a href="#cb50-95" aria-hidden="true" tabindex="-1"></a>Algunos consejos básicos para establecer el directorio de trabajo:</span>
<span id="cb50-96"><a href="#cb50-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-97"><a href="#cb50-97" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Asegúrese de que la ubicación está entre comillas</span>
<span id="cb50-98"><a href="#cb50-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-99"><a href="#cb50-99" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Asegúrese de que hay una barra diagonal (/) entre los nombres de las carpetas (aunque las barras diagonales dobles parecen funcionar en Windows).</span>
<span id="cb50-100"><a href="#cb50-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-101"><a href="#cb50-101" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>No incluya ningún nombre de archivo en el nombre del directorio de la carpeta.</span>
<span id="cb50-102"><a href="#cb50-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-103"><a href="#cb50-103" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Para encontrar la ubicación, puede consultar las propiedades de un archivo de esa carpeta y copiarlo.</span>
<span id="cb50-104"><a href="#cb50-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-105"><a href="#cb50-105" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>La ruta a la carpeta debe ir entre comillas ("")</span>
<span id="cb50-106"><a href="#cb50-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-107"><a href="#cb50-107" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>El nombre debe coincidir exactamente (mejor copiar/pegar)</span>
<span id="cb50-108"><a href="#cb50-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-109"><a href="#cb50-109" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Utilice <span class="in">`list.files()`</span> para comprobar qué archivos están en el directorio de trabajo</span>
<span id="cb50-110"><a href="#cb50-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-111"><a href="#cb50-111" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`R`</span> puede sugerir y autocompletar los nombres de las carpetas pulsando "tab" cuando están entre comillas:</span>
<span id="cb50-112"><a href="#cb50-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-113"><a href="#cb50-113" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-114"><a href="#cb50-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-115"><a href="#cb50-115" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/suggest_folder.gif" alt="Espectro de color" height="150" width="550"/&gt;</span>
<span id="cb50-116"><a href="#cb50-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-117"><a href="#cb50-117" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-118"><a href="#cb50-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-119"><a href="#cb50-119" aria-hidden="true" tabindex="-1"></a><span class="fu">### Establecer el directorio de trabajo en windows</span></span>
<span id="cb50-120"><a href="#cb50-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-121"><a href="#cb50-121" aria-hidden="true" tabindex="-1"></a>En windows debería ser algo como esto:</span>
<span id="cb50-122"><a href="#cb50-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-123"><a href="#cb50-123" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb50-124"><a href="#cb50-124" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("C:/location")</span></span>
<span id="cb50-125"><a href="#cb50-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-126"><a href="#cb50-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-127"><a href="#cb50-127" aria-hidden="true" tabindex="-1"></a>También pueden hacerlo manualmente (¡solo en windows!):</span>
<span id="cb50-128"><a href="#cb50-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-129"><a href="#cb50-129" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb50-130"><a href="#cb50-130" aria-hidden="true" tabindex="-1"></a><span class="in">setwd(choose.dir())</span></span>
<span id="cb50-131"><a href="#cb50-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-132"><a href="#cb50-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-133"><a href="#cb50-133" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-134"><a href="#cb50-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-135"><a href="#cb50-135" aria-hidden="true" tabindex="-1"></a>Debería aparecer una ventana en la que puede elegir la ubicación. Sin embargo, esto sólo se debe utilizar para averiguar la forma correcta de escribir la ubicación del directorio, no como parte de la propia secuencia de comandos.</span>
<span id="cb50-136"><a href="#cb50-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-137"><a href="#cb50-137" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-138"><a href="#cb50-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-139"><a href="#cb50-139" aria-hidden="true" tabindex="-1"></a><span class="fu">### Establecer el directorio de trabajo en macOS</span></span>
<span id="cb50-140"><a href="#cb50-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-141"><a href="#cb50-141" aria-hidden="true" tabindex="-1"></a>Para mac establecer el directorio de trabajo debe ser algo como esto:</span>
<span id="cb50-142"><a href="#cb50-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-143"><a href="#cb50-143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb50-144"><a href="#cb50-144" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("/Users/yourname/..")</span></span>
<span id="cb50-145"><a href="#cb50-145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-146"><a href="#cb50-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-147"><a href="#cb50-147" aria-hidden="true" tabindex="-1"></a>no incluya lo que tenga antes de "usuarios" (como en windows)</span>
<span id="cb50-148"><a href="#cb50-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-149"><a href="#cb50-149" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-150"><a href="#cb50-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-151"><a href="#cb50-151" aria-hidden="true" tabindex="-1"></a><span class="fu">### Establecer el directorio de trabajo en Linux</span></span>
<span id="cb50-152"><a href="#cb50-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-153"><a href="#cb50-153" aria-hidden="true" tabindex="-1"></a>Similar al código usado en OSX:</span>
<span id="cb50-154"><a href="#cb50-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-155"><a href="#cb50-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F}</span></span>
<span id="cb50-156"><a href="#cb50-156" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("/home/m/Desktop/")</span></span>
<span id="cb50-157"><a href="#cb50-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-158"><a href="#cb50-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-159"><a href="#cb50-159" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-160"><a href="#cb50-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-161"><a href="#cb50-161" aria-hidden="true" tabindex="-1"></a>La "\~" (virgulilla) también puede utilizarse para omitir la carpeta "home" y "user" en Linux:</span>
<span id="cb50-162"><a href="#cb50-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-163"><a href="#cb50-163" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F}</span></span>
<span id="cb50-164"><a href="#cb50-164" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("~/Desktop/")</span></span>
<span id="cb50-165"><a href="#cb50-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-166"><a href="#cb50-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-167"><a href="#cb50-167" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-168"><a href="#cb50-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-169"><a href="#cb50-169" aria-hidden="true" tabindex="-1"></a>El directorio de trabajo actual se puede comprobar de la siguiente manera:</span>
<span id="cb50-170"><a href="#cb50-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-171"><a href="#cb50-171" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T}</span></span>
<span id="cb50-172"><a href="#cb50-172" aria-hidden="true" tabindex="-1"></a><span class="in">getwd()</span></span>
<span id="cb50-173"><a href="#cb50-173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-174"><a href="#cb50-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-175"><a href="#cb50-175" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-176"><a href="#cb50-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-177"><a href="#cb50-177" aria-hidden="true" tabindex="-1"></a><span class="fu">## Lectura de datos</span></span>
<span id="cb50-178"><a href="#cb50-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-179"><a href="#cb50-179" aria-hidden="true" tabindex="-1"></a>Cualquier archivo puede ser leído en <span class="in">`R`</span>. Sólo es cuestión de hacer saber a <span class="in">`R`</span> en qué formato está codificado el archivo (por ejemplo, qué convenciones se siguieron al generarlo). Los formatos más comunes para almacenar/intercambiar conjuntos de datos como los que solemos manejar en ciencias biológicas son *txt*, *csv* y *xls/xlsx*.</span>
<span id="cb50-180"><a href="#cb50-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-181"><a href="#cb50-181" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-182"><a href="#cb50-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-183"><a href="#cb50-183" aria-hidden="true" tabindex="-1"></a>La función más utilizada para importar datos en <span class="in">`R`</span> es <span class="in">`read.table`</span>. De hecho, la documentación de esta función incluye todas las funciones por defecto para introducir datos:</span>
<span id="cb50-184"><a href="#cb50-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-187"><a href="#cb50-187" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb50-188"><a href="#cb50-188" aria-hidden="true" tabindex="-1"></a>?read.table</span>
<span id="cb50-189"><a href="#cb50-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-190"><a href="#cb50-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-191"><a href="#cb50-191" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-192"><a href="#cb50-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-193"><a href="#cb50-193" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/input_data.png" alt="Color spectro" height="500" width="750"/&gt;</span>
<span id="cb50-194"><a href="#cb50-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-195"><a href="#cb50-195" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-196"><a href="#cb50-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-197"><a href="#cb50-197" aria-hidden="true" tabindex="-1"></a><span class="fu">## Leer archivos *.txt*</span></span>
<span id="cb50-198"><a href="#cb50-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-199"><a href="#cb50-199" aria-hidden="true" tabindex="-1"></a>Los archivos *.txt* pueden leerse con `read.table`. Descarguemos primero un conjunto de datos de libre acceso en formato *.txt*:</span>
<span id="cb50-200"><a href="#cb50-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-201"><a href="#cb50-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-202"><a href="#cb50-202" aria-hidden="true" tabindex="-1"></a><span class="in"># definir el directorio de trabajo</span></span>
<span id="cb50-203"><a href="#cb50-203" aria-hidden="true" tabindex="-1"></a><span class="in">setwd("INGRESE LA DIRECCION DE LA CARPETA DONDE ESTAN LOS DATOS")</span></span>
<span id="cb50-204"><a href="#cb50-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-205"><a href="#cb50-205" aria-hidden="true" tabindex="-1"></a><span class="in">download.file(</span></span>
<span id="cb50-206"><a href="#cb50-206" aria-hidden="true" tabindex="-1"></a><span class="in">  "https://raw.githubusercontent.com/maRce10/UCR_ESP_2024/master/pantheria_mammals_data.txt",</span></span>
<span id="cb50-207"><a href="#cb50-207" aria-hidden="true" tabindex="-1"></a><span class="in">  destfile = "pantheria_mammals_data.txt"</span></span>
<span id="cb50-208"><a href="#cb50-208" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-209"><a href="#cb50-209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-210"><a href="#cb50-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-211"><a href="#cb50-211" aria-hidden="true" tabindex="-1"></a>*You can also manually download the file from [here](https://raw.githubusercontent.com/maRce10/UCR_ESP_2024/master/pantheria_mammals_data.txt)*</span>
<span id="cb50-212"><a href="#cb50-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-213"><a href="#cb50-213" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-214"><a href="#cb50-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-215"><a href="#cb50-215" aria-hidden="true" tabindex="-1"></a>El archivo puede introducirse en <span class="in">`R`</span> de la siguiente forma:</span>
<span id="cb50-216"><a href="#cb50-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-217"><a href="#cb50-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-218"><a href="#cb50-218" aria-hidden="true" tabindex="-1"></a><span class="in"># leer datos</span></span>
<span id="cb50-219"><a href="#cb50-219" aria-hidden="true" tabindex="-1"></a><span class="in">datos_pantheria &lt;- read.table("pantheria_mammals_data.txt", stringsAsFactors = FALSE, sep = "\t", header = TRUE)</span></span>
<span id="cb50-220"><a href="#cb50-220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-221"><a href="#cb50-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-222"><a href="#cb50-222" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-223"><a href="#cb50-223" aria-hidden="true" tabindex="-1"></a><span class="in"># leer datos</span></span>
<span id="cb50-224"><a href="#cb50-224" aria-hidden="true" tabindex="-1"></a><span class="in">datos_pantheria &lt;-</span></span>
<span id="cb50-225"><a href="#cb50-225" aria-hidden="true" tabindex="-1"></a><span class="in">  read.table(</span></span>
<span id="cb50-226"><a href="#cb50-226" aria-hidden="true" tabindex="-1"></a><span class="in">    "pantheria_mammals_data.txt",</span></span>
<span id="cb50-227"><a href="#cb50-227" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE,</span></span>
<span id="cb50-228"><a href="#cb50-228" aria-hidden="true" tabindex="-1"></a><span class="in">    sep = "\t",</span></span>
<span id="cb50-229"><a href="#cb50-229" aria-hidden="true" tabindex="-1"></a><span class="in">    header = TRUE</span></span>
<span id="cb50-230"><a href="#cb50-230" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-231"><a href="#cb50-231" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-232"><a href="#cb50-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-233"><a href="#cb50-233" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-234"><a href="#cb50-234" aria-hidden="true" tabindex="-1"></a><span class="in"># explorar estructura</span></span>
<span id="cb50-235"><a href="#cb50-235" aria-hidden="true" tabindex="-1"></a><span class="in">head(datos_pantheria)</span></span>
<span id="cb50-236"><a href="#cb50-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-237"><a href="#cb50-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-238"><a href="#cb50-238" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-239"><a href="#cb50-239" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-240"><a href="#cb50-240" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(datos_pantheria[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-241"><a href="#cb50-241" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-242"><a href="#cb50-242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-243"><a href="#cb50-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-244"><a href="#cb50-244" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-245"><a href="#cb50-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-246"><a href="#cb50-246" aria-hidden="true" tabindex="-1"></a>El nombre del archivo está entre comillas y contiene la extensión del archivo.</span>
<span id="cb50-247"><a href="#cb50-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-248"><a href="#cb50-248" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-249"><a href="#cb50-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-250"><a href="#cb50-250" aria-hidden="true" tabindex="-1"></a>Tenga en cuenta que el valor -999 se utiliza para definir celdas vacías. Podemos leer estos valores como *NAs* al importar los datos utilizando el argumento 'na.strings':</span>
<span id="cb50-251"><a href="#cb50-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-252"><a href="#cb50-252" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-253"><a href="#cb50-253" aria-hidden="true" tabindex="-1"></a><span class="in"># leer datos</span></span>
<span id="cb50-254"><a href="#cb50-254" aria-hidden="true" tabindex="-1"></a><span class="in">datos_pantheria &lt;-</span></span>
<span id="cb50-255"><a href="#cb50-255" aria-hidden="true" tabindex="-1"></a><span class="in">  read.table(</span></span>
<span id="cb50-256"><a href="#cb50-256" aria-hidden="true" tabindex="-1"></a><span class="in">    "pantheria_mammals_data.txt",</span></span>
<span id="cb50-257"><a href="#cb50-257" aria-hidden="true" tabindex="-1"></a><span class="in">    sep = "\t",</span></span>
<span id="cb50-258"><a href="#cb50-258" aria-hidden="true" tabindex="-1"></a><span class="in">    header = TRUE,</span></span>
<span id="cb50-259"><a href="#cb50-259" aria-hidden="true" tabindex="-1"></a><span class="in">    na.strings = "-999"</span></span>
<span id="cb50-260"><a href="#cb50-260" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-261"><a href="#cb50-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-262"><a href="#cb50-262" aria-hidden="true" tabindex="-1"></a><span class="in"># explorar estructura</span></span>
<span id="cb50-263"><a href="#cb50-263" aria-hidden="true" tabindex="-1"></a><span class="in">head(datos_pantheria)</span></span>
<span id="cb50-264"><a href="#cb50-264" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-265"><a href="#cb50-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-266"><a href="#cb50-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-267"><a href="#cb50-267" aria-hidden="true" tabindex="-1"></a><span class="in"># read file</span></span>
<span id="cb50-268"><a href="#cb50-268" aria-hidden="true" tabindex="-1"></a><span class="in">datos_pantheria &lt;- read.table("pantheria_mammals_data.txt", stringsAsFactors = FALSE, sep = "\t", header = TRUE, na.strings = "-999")</span></span>
<span id="cb50-269"><a href="#cb50-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-270"><a href="#cb50-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-271"><a href="#cb50-271" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-272"><a href="#cb50-272" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(datos_pantheria[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-273"><a href="#cb50-273" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-274"><a href="#cb50-274" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-275"><a href="#cb50-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-276"><a href="#cb50-276" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-277"><a href="#cb50-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-278"><a href="#cb50-278" aria-hidden="true" tabindex="-1"></a><span class="fu">## Leer archivos *.csv*</span></span>
<span id="cb50-279"><a href="#cb50-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-280"><a href="#cb50-280" aria-hidden="true" tabindex="-1"></a>De nuevo, podemos descargar un archivo de ejemplo en línea:</span>
<span id="cb50-281"><a href="#cb50-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-282"><a href="#cb50-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-283"><a href="#cb50-283" aria-hidden="true" tabindex="-1"></a><span class="in"># bajar datos en zip</span></span>
<span id="cb50-284"><a href="#cb50-284" aria-hidden="true" tabindex="-1"></a><span class="in">download.file(</span></span>
<span id="cb50-285"><a href="#cb50-285" aria-hidden="true" tabindex="-1"></a><span class="in">  "https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/12/Clements-v2023-October-2023-csv.zip",</span></span>
<span id="cb50-286"><a href="#cb50-286" aria-hidden="true" tabindex="-1"></a><span class="in">  destfile = "clements_bird_list.zip"</span></span>
<span id="cb50-287"><a href="#cb50-287" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-288"><a href="#cb50-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-289"><a href="#cb50-289" aria-hidden="true" tabindex="-1"></a><span class="in"># extraer zip</span></span>
<span id="cb50-290"><a href="#cb50-290" aria-hidden="true" tabindex="-1"></a><span class="in">unzip("clements_bird_list.zip", files = "Clements-v2023-October-2023.csv")</span></span>
<span id="cb50-291"><a href="#cb50-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-292"><a href="#cb50-292" aria-hidden="true" tabindex="-1"></a><span class="in"># leer datos</span></span>
<span id="cb50-293"><a href="#cb50-293" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst &lt;-</span></span>
<span id="cb50-294"><a href="#cb50-294" aria-hidden="true" tabindex="-1"></a><span class="in">  read.csv("Clements-v2023-October-2023.csv", stringsAsFactors = FALSE)</span></span>
<span id="cb50-295"><a href="#cb50-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-296"><a href="#cb50-296" aria-hidden="true" tabindex="-1"></a><span class="in">head(clm_lst)</span></span>
<span id="cb50-297"><a href="#cb50-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-298"><a href="#cb50-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-299"><a href="#cb50-299" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-300"><a href="#cb50-300" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst &lt;- read.csv("Clements-v2023-October-2023.csv", stringsAsFactors = FALSE)</span></span>
<span id="cb50-301"><a href="#cb50-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-302"><a href="#cb50-302" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-303"><a href="#cb50-303" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(clm_lst[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-304"><a href="#cb50-304" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-305"><a href="#cb50-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-306"><a href="#cb50-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-307"><a href="#cb50-307" aria-hidden="true" tabindex="-1"></a>También puede descargar manualmente el archivo desde <span class="co">[</span><span class="ot">aquí</span><span class="co">](https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/12/Clements-v2023-October-2023-csv.zip)</span></span>
<span id="cb50-308"><a href="#cb50-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-309"><a href="#cb50-309" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-310"><a href="#cb50-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-311"><a href="#cb50-311" aria-hidden="true" tabindex="-1"></a>Como en el ejemplo anterior, podemos decirle a <span class="in">`R`</span> cómo identificar las celdas vacías utilizando el argumento <span class="in">`na.strings`</span>:</span>
<span id="cb50-312"><a href="#cb50-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-313"><a href="#cb50-313" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-314"><a href="#cb50-314" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst &lt;-</span></span>
<span id="cb50-315"><a href="#cb50-315" aria-hidden="true" tabindex="-1"></a><span class="in">  read.csv(</span></span>
<span id="cb50-316"><a href="#cb50-316" aria-hidden="true" tabindex="-1"></a><span class="in">    "Clements-v2023-October-2023.csv",</span></span>
<span id="cb50-317"><a href="#cb50-317" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE,</span></span>
<span id="cb50-318"><a href="#cb50-318" aria-hidden="true" tabindex="-1"></a><span class="in">    na.strings = ""</span></span>
<span id="cb50-319"><a href="#cb50-319" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-320"><a href="#cb50-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-321"><a href="#cb50-321" aria-hidden="true" tabindex="-1"></a><span class="in">head(clm_lst)</span></span>
<span id="cb50-322"><a href="#cb50-322" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-323"><a href="#cb50-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-324"><a href="#cb50-324" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-325"><a href="#cb50-325" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst &lt;- read.csv("Clements-v2023-October-2023.csv", stringsAsFactors = FALSE, na.strings = "")</span></span>
<span id="cb50-326"><a href="#cb50-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-327"><a href="#cb50-327" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-328"><a href="#cb50-328" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(clm_lst[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-329"><a href="#cb50-329" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-330"><a href="#cb50-330" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-331"><a href="#cb50-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-332"><a href="#cb50-332" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-333"><a href="#cb50-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-334"><a href="#cb50-334" aria-hidden="true" tabindex="-1"></a><span class="fu">## Leer archivos de Excel</span></span>
<span id="cb50-335"><a href="#cb50-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-336"><a href="#cb50-336" aria-hidden="true" tabindex="-1"></a>La mayoría de los investigadores introducen los datos en hojas de cálculo Excel. Así que sería bastante práctico leer los datos directamente desde ahí. Para leer archivos *xls* y *xlsx* necesitamos instalar el paquete "readxl" (hay otros paquetes que se pueden utilizar pero todos funcionan de forma similar):</span>
<span id="cb50-337"><a href="#cb50-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-338"><a href="#cb50-338" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb50-339"><a href="#cb50-339" aria-hidden="true" tabindex="-1"></a><span class="in">install.packages(pkgs = "readxl")</span></span>
<span id="cb50-340"><a href="#cb50-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-341"><a href="#cb50-341" aria-hidden="true" tabindex="-1"></a><span class="in">library(readxl)</span></span>
<span id="cb50-342"><a href="#cb50-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-343"><a href="#cb50-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-344"><a href="#cb50-344" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-345"><a href="#cb50-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-346"><a href="#cb50-346" aria-hidden="true" tabindex="-1"></a>Como hicimos anteriormente, descargue un archivo de ejemplo de un repositorio en línea. En este caso es la misma lista de taxonomía de aves de Clements en formato *xlsx*:</span>
<span id="cb50-347"><a href="#cb50-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-348"><a href="#cb50-348" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= T}</span></span>
<span id="cb50-349"><a href="#cb50-349" aria-hidden="true" tabindex="-1"></a><span class="in">download.file("https://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2023/10/Clements-v2023-October-2023.xlsx", destfile = "clements_bird_list.xlsx")</span></span>
<span id="cb50-350"><a href="#cb50-350" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-351"><a href="#cb50-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-352"><a href="#cb50-352" aria-hidden="true" tabindex="-1"></a>También puede descargar manualmente el archivo desde <span class="co">[</span><span class="ot">aquí</span><span class="co">](http://www.birds.cornell.edu/clementschecklist/wp-content/uploads/2017/08/eBird_Taxonomy_v2017_18Aug2017.xlsx)</span></span>
<span id="cb50-353"><a href="#cb50-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-354"><a href="#cb50-354" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-355"><a href="#cb50-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-356"><a href="#cb50-356" aria-hidden="true" tabindex="-1"></a>Ahora podemos utilizar la función <span class="in">`read_excel()`</span> para leer el archivo:</span>
<span id="cb50-357"><a href="#cb50-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-358"><a href="#cb50-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= T}</span></span>
<span id="cb50-359"><a href="#cb50-359" aria-hidden="true" tabindex="-1"></a><span class="in"># leer archivo</span></span>
<span id="cb50-360"><a href="#cb50-360" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst2 &lt;- read_excel("clements_bird_list.xlsx", sheet = 1)</span></span>
<span id="cb50-361"><a href="#cb50-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-362"><a href="#cb50-362" aria-hidden="true" tabindex="-1"></a><span class="in">head(clm_lst2)</span></span>
<span id="cb50-363"><a href="#cb50-363" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-364"><a href="#cb50-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-365"><a href="#cb50-365" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = T, echo= F}</span></span>
<span id="cb50-366"><a href="#cb50-366" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst2 &lt;- read_excel("clements_bird_list.xlsx", sheet = 1)</span></span>
<span id="cb50-367"><a href="#cb50-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-368"><a href="#cb50-368" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-369"><a href="#cb50-369" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(clm_lst2[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-370"><a href="#cb50-370" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-371"><a href="#cb50-371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-372"><a href="#cb50-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-373"><a href="#cb50-373" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-374"><a href="#cb50-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-375"><a href="#cb50-375" aria-hidden="true" tabindex="-1"></a>You need to specify the file name (including extension) and the excel sheet (tab) name. <span class="in">`read_excel()`</span> auto detects the format from the file extension. The functions <span class="in">`read_xls()`</span> and <span class="in">`read_xlsx()`</span> can be used to read files without extension.</span>
<span id="cb50-376"><a href="#cb50-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-377"><a href="#cb50-377" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-378"><a href="#cb50-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-379"><a href="#cb50-379" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb50-380"><a href="#cb50-380" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ejercicio 1</span></span>
<span id="cb50-381"><a href="#cb50-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-382"><a href="#cb50-382" aria-hidden="true" tabindex="-1"></a>Todas las funciones predeterminadas para introducir datos en <span class="in">`R`</span> tienen una contrapartida para exportar el mismo tipo de datos. Los nombres de estas otras funciones son similares a los de las de lectura de datos, aunque suelen empezar por "write" o "save".</span>
<span id="cb50-383"><a href="#cb50-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-384"><a href="#cb50-384" aria-hidden="true" tabindex="-1"></a>1.1 ¿Cuáles son los nombres de las funciones por defecto para exportar los formatos de datos que hemos utilizado anteriormente? (pista: prueba <span class="in">`apropos`</span> para comprobar qué funciones están disponibles)</span>
<span id="cb50-385"><a href="#cb50-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-386"><a href="#cb50-386" aria-hidden="true" tabindex="-1"></a>1.2 Exportar los datos de mamíferos como archivo *.csv*.</span>
<span id="cb50-387"><a href="#cb50-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-388"><a href="#cb50-388" aria-hidden="true" tabindex="-1"></a>1.3 Vuelva a exportar los datos de mamíferos, esta vez excluyendo los nombres de las filas</span>
<span id="cb50-389"><a href="#cb50-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-390"><a href="#cb50-390" aria-hidden="true" tabindex="-1"></a>1.4 Leer el archivo *.csv* con <span class="in">`read.table`</span>.</span>
<span id="cb50-391"><a href="#cb50-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-392"><a href="#cb50-392" aria-hidden="true" tabindex="-1"></a>1.5 ¿Qué otros paquetes pueden importar archivos excel en <span class="in">`R`</span>?</span>
<span id="cb50-393"><a href="#cb50-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-394"><a href="#cb50-394" aria-hidden="true" tabindex="-1"></a>1.6 ¿Se puede exportar un archivo excel o añadir datos a un archivo excel existente desde <span class="in">`R`</span>?</span>
<span id="cb50-395"><a href="#cb50-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-396"><a href="#cb50-396" aria-hidden="true" tabindex="-1"></a>1.7 Utilizando el archivo "clements_bird_list.csv", ¿cómo le diría a <span class="in">`R`</span> que leyera tanto "Rheiformes" como "Ostriches" como celdas vacías (sin dejar de leer las celdas vacías como celdas vacías)?</span>
<span id="cb50-397"><a href="#cb50-397" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-398"><a href="#cb50-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-399"><a href="#cb50-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F, echo= F}</span></span>
<span id="cb50-400"><a href="#cb50-400" aria-hidden="true" tabindex="-1"></a><span class="in"># 1.4</span></span>
<span id="cb50-401"><a href="#cb50-401" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst3 &lt;- read.table("clements_bird_list.csv", stringsAsFactors = FALSE, header = TRUE, sep = ",", fill = T)</span></span>
<span id="cb50-402"><a href="#cb50-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-403"><a href="#cb50-403" aria-hidden="true" tabindex="-1"></a><span class="in"># 1.7</span></span>
<span id="cb50-404"><a href="#cb50-404" aria-hidden="true" tabindex="-1"></a><span class="in">clm_lst &lt;- read.csv("clements_bird_list.csv", stringsAsFactors = FALSE, na.strings = c("", "Rheiformes", "Ostriches"))</span></span>
<span id="cb50-405"><a href="#cb50-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-406"><a href="#cb50-406" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-407"><a href="#cb50-407" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(clm_lst[1:6, ], row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-408"><a href="#cb50-408" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-409"><a href="#cb50-409" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-410"><a href="#cb50-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-411"><a href="#cb50-411" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb50-412"><a href="#cb50-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-413"><a href="#cb50-413" aria-hidden="true" tabindex="-1"></a><span class="fu"># Formato de los datos</span></span>
<span id="cb50-414"><a href="#cb50-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-415"><a href="#cb50-415" aria-hidden="true" tabindex="-1"></a>Esta sección trata de la organización de los datos de forma que se simplifique su manejo, exploración y análisis. Como probablemente puedas adivinar, cuanto más consistentes se hacen las cosas, más predecibles se vuelven. Esto también se aplica a los datos. Si los datos se organizan con la misma lógica, cabe esperar que el mismo tipo de manipulaciones y análisis sean aplicables a distintos conjuntos de datos. La organización de los datos es un aspecto clave (pero normalmente descuidado) del flujo de trabajo del análisis de datos. Cuando los datos están bien organizados, se dedica mucho menos tiempo a formatearlos y más a las cuestiones analíticas reales.</span>
<span id="cb50-416"><a href="#cb50-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-417"><a href="#cb50-417" aria-hidden="true" tabindex="-1"></a>Cuando sea posible, ejecutaremos los ejemplos de formateo de datos utilizando tanto el paquete 'tidyr' como las funciones base de <span class="in">`R`</span>.</span>
<span id="cb50-418"><a href="#cb50-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-419"><a href="#cb50-419" aria-hidden="true" tabindex="-1"></a><span class="fu">## Datos compactos</span></span>
<span id="cb50-420"><a href="#cb50-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-421"><a href="#cb50-421" aria-hidden="true" tabindex="-1"></a>Datos compactos ("tidy data") es una lógica para organizar conjuntos de datos de forma coherente e intuitiva. Para ejecutar parte del código de abajo necesitarás los paquetes 'tidyr' y 'dplyr', que se pueden instalar/cargar de la siguiente manera:</span>
<span id="cb50-422"><a href="#cb50-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-423"><a href="#cb50-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r,eval=FALSE}</span></span>
<span id="cb50-424"><a href="#cb50-424" aria-hidden="true" tabindex="-1"></a><span class="in">install.packages(pkgs = "tidyr")</span></span>
<span id="cb50-425"><a href="#cb50-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-426"><a href="#cb50-426" aria-hidden="true" tabindex="-1"></a><span class="in">install.packages(pkgs = "dplyr")</span></span>
<span id="cb50-427"><a href="#cb50-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-428"><a href="#cb50-428" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb50-429"><a href="#cb50-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-430"><a href="#cb50-430" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb50-431"><a href="#cb50-431" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-432"><a href="#cb50-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-433"><a href="#cb50-433" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-434"><a href="#cb50-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-435"><a href="#cb50-435" aria-hidden="true" tabindex="-1"></a>Los mismos datos pueden representarse de muchas maneras. En el ejemplo siguiente, cada conjunto de datos muestra exactamente los mismos valores de cuatro variables *país*, *año*, *población* y *casos*, pero en cada conjunto de datos los valores están organizados de forma diferente. Los datos muestran el número de casos de tuberculosis en Afganistán, Brasil y China entre 1999 y 2000:</span>
<span id="cb50-436"><a href="#cb50-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-437"><a href="#cb50-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-438"><a href="#cb50-438" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table1)</span></span>
<span id="cb50-439"><a href="#cb50-439" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-440"><a href="#cb50-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-441"><a href="#cb50-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-442"><a href="#cb50-442" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-443"><a href="#cb50-443" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table1, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-444"><a href="#cb50-444" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-445"><a href="#cb50-445" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-446"><a href="#cb50-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-447"><a href="#cb50-447" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-448"><a href="#cb50-448" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table2)</span></span>
<span id="cb50-449"><a href="#cb50-449" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-450"><a href="#cb50-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-451"><a href="#cb50-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-452"><a href="#cb50-452" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-453"><a href="#cb50-453" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table2, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-454"><a href="#cb50-454" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-455"><a href="#cb50-455" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-456"><a href="#cb50-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-457"><a href="#cb50-457" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-458"><a href="#cb50-458" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table3)</span></span>
<span id="cb50-459"><a href="#cb50-459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-460"><a href="#cb50-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-461"><a href="#cb50-461" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-462"><a href="#cb50-462" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-463"><a href="#cb50-463" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table3, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-464"><a href="#cb50-464" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-465"><a href="#cb50-465" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-466"><a href="#cb50-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-467"><a href="#cb50-467" aria-hidden="true" tabindex="-1"></a>O incluso repartidos en 2 conjuntos de datos diferentes:</span>
<span id="cb50-468"><a href="#cb50-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-469"><a href="#cb50-469" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-470"><a href="#cb50-470" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table4a)</span></span>
<span id="cb50-471"><a href="#cb50-471" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-472"><a href="#cb50-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-473"><a href="#cb50-473" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-474"><a href="#cb50-474" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-475"><a href="#cb50-475" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table4a, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-476"><a href="#cb50-476" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-477"><a href="#cb50-477" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-478"><a href="#cb50-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-479"><a href="#cb50-479" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-480"><a href="#cb50-480" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table4b)</span></span>
<span id="cb50-481"><a href="#cb50-481" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-482"><a href="#cb50-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-483"><a href="#cb50-483" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-484"><a href="#cb50-484" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-485"><a href="#cb50-485" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table4b, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-486"><a href="#cb50-486" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-487"><a href="#cb50-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-488"><a href="#cb50-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-489"><a href="#cb50-489" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-490"><a href="#cb50-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-491"><a href="#cb50-491" aria-hidden="true" tabindex="-1"></a>Todos estos conjuntos de datos contenían los mismos datos subyacentes. Sin embargo, no son igual de fáciles de utilizar.</span>
<span id="cb50-492"><a href="#cb50-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-493"><a href="#cb50-493" aria-hidden="true" tabindex="-1"></a>Existen tres reglas interrelacionadas para ordenar un conjunto de datos:</span>
<span id="cb50-494"><a href="#cb50-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-495"><a href="#cb50-495" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Cada variable debe tener su propia columna</span>
<span id="cb50-496"><a href="#cb50-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-497"><a href="#cb50-497" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Each observation must have its own row</span>
<span id="cb50-498"><a href="#cb50-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-499"><a href="#cb50-499" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Cada valor debe tener su propia celda</span>
<span id="cb50-500"><a href="#cb50-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-501"><a href="#cb50-501" aria-hidden="true" tabindex="-1"></a>Esta figura muestra las reglas visualmente:</span>
<span id="cb50-502"><a href="#cb50-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-503"><a href="#cb50-503" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/tidy-1.png" alt="tidy data" height="500" width="750"/&gt; &lt;font size="2"&gt;<span class="sc">\*</span> Modified from &lt;i&gt;R for Data Science&lt;/i&gt;&lt;/font&gt; &nbsp;</span>
<span id="cb50-504"><a href="#cb50-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-505"><a href="#cb50-505" aria-hidden="true" tabindex="-1"></a>Estas tres reglas están interrelacionadas porque es imposible satisfacer sólo dos de las tres. Esa interrelación conduce a un conjunto aún más sencillo de instrucciones prácticas:</span>
<span id="cb50-506"><a href="#cb50-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-507"><a href="#cb50-507" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Ponga cada conjunto de datos en un marco de datos</span>
<span id="cb50-508"><a href="#cb50-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-509"><a href="#cb50-509" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Ponga cada variable en una columna</span>
<span id="cb50-510"><a href="#cb50-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-511"><a href="#cb50-511" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-512"><a href="#cb50-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-513"><a href="#cb50-513" aria-hidden="true" tabindex="-1"></a>En el ejemplo anterior, sólo la <span class="in">`tabla1`</span> está ordenada. Es la única representación en la que cada columna es una variable. Formatear los datos de esta manera tiene dos ventajas principales:</span>
<span id="cb50-514"><a href="#cb50-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-515"><a href="#cb50-515" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Si tienes una estructura de datos consistente, es más fácil aprender las herramientas que trabajan con ella porque tienen una uniformidad subyacente</span>
<span id="cb50-516"><a href="#cb50-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-517"><a href="#cb50-517" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Colocar las variables en columnas se ajusta bien a la naturaleza vectorial de <span class="in">`R`</span>. Como hemos visto, las funciones incorporadas en <span class="in">`R`</span> trabajan con vectores de valores. Esto hace que la transformación de datos ordenados resulte especialmente natural.</span>
<span id="cb50-518"><a href="#cb50-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-519"><a href="#cb50-519" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-520"><a href="#cb50-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-521"><a href="#cb50-521" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb50-522"><a href="#cb50-522" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ejercicio 2</span></span>
<span id="cb50-523"><a href="#cb50-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-524"><a href="#cb50-524" aria-hidden="true" tabindex="-1"></a>2.1 Describa cómo están organizadas las variables y observaciones en cada uno de los marcos de datos de muestreo</span>
<span id="cb50-525"><a href="#cb50-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-526"><a href="#cb50-526" aria-hidden="true" tabindex="-1"></a>2.2 Calcule la tasa de casos por 10000 personas para "tabla1", "tabla2" y "tabla4a"/"tabla4b".</span>
<span id="cb50-527"><a href="#cb50-527" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-528"><a href="#cb50-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-529"><a href="#cb50-529" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb50-530"><a href="#cb50-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-531"><a href="#cb50-531" aria-hidden="true" tabindex="-1"></a><span class="fu">## Recopilación de datos</span></span>
<span id="cb50-532"><a href="#cb50-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-533"><a href="#cb50-533" aria-hidden="true" tabindex="-1"></a>Un problema habitual es un conjunto de datos en el que algunos de los nombres de las columnas no son nombres de variables, sino valores de una variable. Tomemos "tabla4a": los nombres de las columnas 1999 y 2000 representan valores de la variable año, y cada fila representa dos observaciones, no una:</span>
<span id="cb50-534"><a href="#cb50-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-535"><a href="#cb50-535" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-536"><a href="#cb50-536" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table4a)</span></span>
<span id="cb50-537"><a href="#cb50-537" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-538"><a href="#cb50-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-539"><a href="#cb50-539" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-540"><a href="#cb50-540" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-541"><a href="#cb50-541" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table4a, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-542"><a href="#cb50-542" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-543"><a href="#cb50-543" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-544"><a href="#cb50-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-545"><a href="#cb50-545" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-546"><a href="#cb50-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-547"><a href="#cb50-547" aria-hidden="true" tabindex="-1"></a>Para ordenar un conjunto de datos como éste, necesitamos **reunir** esas columnas en un nuevo par de variables. Para ello necesitamos tres parámetros:</span>
<span id="cb50-548"><a href="#cb50-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-549"><a href="#cb50-549" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>El conjunto de columnas que representan valores, no variables. En este ejemplo, son las columnas <span class="in">`1999`</span> y <span class="in">`2000`</span>.</span>
<span id="cb50-550"><a href="#cb50-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-551"><a href="#cb50-551" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>El nombre de la variable cuyos valores forman los nombres de las columnas. En la sintaxis 'tidyr' se llama <span class="in">`key`</span>, que en este caso es <span class="in">`year`</span>.</span>
<span id="cb50-552"><a href="#cb50-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-553"><a href="#cb50-553" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>El nombre de la variable cuyos valores se reparten por las celdas. En la sintaxis 'tidyr' que se llama que <span class="in">`value`</span>, que en este caso es el número de <span class="in">`cases`</span></span>
<span id="cb50-554"><a href="#cb50-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-555"><a href="#cb50-555" aria-hidden="true" tabindex="-1"></a>Estos parámetros se pueden utilizar para crear un conjunto de datos ordenados utilizando la función <span class="in">`gather()`</span>:</span>
<span id="cb50-556"><a href="#cb50-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-557"><a href="#cb50-557" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-558"><a href="#cb50-558" aria-hidden="true" tabindex="-1"></a><span class="in">gather(table4a, key = "year", value = "cases", `1999`, `2000`)</span></span>
<span id="cb50-559"><a href="#cb50-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-560"><a href="#cb50-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-561"><a href="#cb50-561" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-562"><a href="#cb50-562" aria-hidden="true" tabindex="-1"></a><span class="in">g1 &lt;- gather(table4a, key = "year", value = "cases", `1999`, `2000`)</span></span>
<span id="cb50-563"><a href="#cb50-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-564"><a href="#cb50-564" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-565"><a href="#cb50-565" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g1, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-566"><a href="#cb50-566" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-567"><a href="#cb50-567" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-568"><a href="#cb50-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-569"><a href="#cb50-569" aria-hidden="true" tabindex="-1"></a>Podemos visualizar este formato de la siguiente manera:</span>
<span id="cb50-570"><a href="#cb50-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-571"><a href="#cb50-571" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/gather.png" alt="gather data" height="500" width="850"/&gt; &lt;font size="2"&gt;<span class="sc">\*</span> Modified from &lt;i&gt;R for Data Science&lt;/i&gt;&lt;/font&gt; &nbsp;</span>
<span id="cb50-572"><a href="#cb50-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-573"><a href="#cb50-573" aria-hidden="true" tabindex="-1"></a><span class="in">`gather()`</span> también se puede utilizar para ordenar <span class="in">`table4b`</span>. La única diferencia es la variable almacenada en los valores de las celdas:</span>
<span id="cb50-574"><a href="#cb50-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-575"><a href="#cb50-575" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-576"><a href="#cb50-576" aria-hidden="true" tabindex="-1"></a><span class="in">gather(</span></span>
<span id="cb50-577"><a href="#cb50-577" aria-hidden="true" tabindex="-1"></a><span class="in">  data = table4b,</span></span>
<span id="cb50-578"><a href="#cb50-578" aria-hidden="true" tabindex="-1"></a><span class="in">  key = "year",</span></span>
<span id="cb50-579"><a href="#cb50-579" aria-hidden="true" tabindex="-1"></a><span class="in">  value = "population",</span></span>
<span id="cb50-580"><a href="#cb50-580" aria-hidden="true" tabindex="-1"></a><span class="in">  `1999`,</span></span>
<span id="cb50-581"><a href="#cb50-581" aria-hidden="true" tabindex="-1"></a><span class="in">  `2000`</span></span>
<span id="cb50-582"><a href="#cb50-582" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-583"><a href="#cb50-583" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-584"><a href="#cb50-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-585"><a href="#cb50-585" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-586"><a href="#cb50-586" aria-hidden="true" tabindex="-1"></a><span class="in">g2 &lt;- gather(data = table4b, key = "year", value = "population", `1999`, `2000`)</span></span>
<span id="cb50-587"><a href="#cb50-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-588"><a href="#cb50-588" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-589"><a href="#cb50-589" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g2, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-590"><a href="#cb50-590" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-591"><a href="#cb50-591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-592"><a href="#cb50-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-593"><a href="#cb50-593" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-594"><a href="#cb50-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-595"><a href="#cb50-595" aria-hidden="true" tabindex="-1"></a>Para combinar las versiones ordenadas de las tablas <span class="in">`table4a`</span> y <span class="in">`table4b`</span> en un único marco de datos (o 'tibble'), podemos utilizar <span class="in">`dplyr::left_join()`</span> o <span class="in">`merge()`</span> de la base <span class="in">`R`</span>:</span>
<span id="cb50-596"><a href="#cb50-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-597"><a href="#cb50-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-598"><a href="#cb50-598" aria-hidden="true" tabindex="-1"></a><span class="in">tidy4a &lt;-</span></span>
<span id="cb50-599"><a href="#cb50-599" aria-hidden="true" tabindex="-1"></a><span class="in">  gather(table4a, key = "year", value = "cases", `1999`, `2000`)</span></span>
<span id="cb50-600"><a href="#cb50-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-601"><a href="#cb50-601" aria-hidden="true" tabindex="-1"></a><span class="in">tidy4b &lt;-</span></span>
<span id="cb50-602"><a href="#cb50-602" aria-hidden="true" tabindex="-1"></a><span class="in">  gather(table4b, key = "year", value = "population", `1999`, `2000`)</span></span>
<span id="cb50-603"><a href="#cb50-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-604"><a href="#cb50-604" aria-hidden="true" tabindex="-1"></a><span class="in">left_join(</span></span>
<span id="cb50-605"><a href="#cb50-605" aria-hidden="true" tabindex="-1"></a><span class="in">  x = tidy4a,</span></span>
<span id="cb50-606"><a href="#cb50-606" aria-hidden="true" tabindex="-1"></a><span class="in">  y = tidy4b,</span></span>
<span id="cb50-607"><a href="#cb50-607" aria-hidden="true" tabindex="-1"></a><span class="in">  by = c("country", "year")</span></span>
<span id="cb50-608"><a href="#cb50-608" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-609"><a href="#cb50-609" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-610"><a href="#cb50-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-611"><a href="#cb50-611" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-612"><a href="#cb50-612" aria-hidden="true" tabindex="-1"></a><span class="in">tidy4a &lt;- gather(table4a, `1999`, `2000`, key = "year", value = "cases")</span></span>
<span id="cb50-613"><a href="#cb50-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-614"><a href="#cb50-614" aria-hidden="true" tabindex="-1"></a><span class="in">tidy4b &lt;- gather(table4b, `1999`, `2000`, key = "year", value = "population")</span></span>
<span id="cb50-615"><a href="#cb50-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-616"><a href="#cb50-616" aria-hidden="true" tabindex="-1"></a><span class="in">g3 &lt;- left_join(x = tidy4a, y = tidy4b, by = c("country", "year"))</span></span>
<span id="cb50-617"><a href="#cb50-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-618"><a href="#cb50-618" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-619"><a href="#cb50-619" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g3, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-620"><a href="#cb50-620" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-621"><a href="#cb50-621" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-622"><a href="#cb50-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-623"><a href="#cb50-623" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-624"><a href="#cb50-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-625"><a href="#cb50-625" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-626"><a href="#cb50-626" aria-hidden="true" tabindex="-1"></a><span class="in">merge(</span></span>
<span id="cb50-627"><a href="#cb50-627" aria-hidden="true" tabindex="-1"></a><span class="in">  x = tidy4a,</span></span>
<span id="cb50-628"><a href="#cb50-628" aria-hidden="true" tabindex="-1"></a><span class="in">  y = tidy4b,</span></span>
<span id="cb50-629"><a href="#cb50-629" aria-hidden="true" tabindex="-1"></a><span class="in">  by = c("country", "year")</span></span>
<span id="cb50-630"><a href="#cb50-630" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-631"><a href="#cb50-631" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-632"><a href="#cb50-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-633"><a href="#cb50-633" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-634"><a href="#cb50-634" aria-hidden="true" tabindex="-1"></a><span class="in">g4 &lt;- merge(tidy4a, tidy4b)</span></span>
<span id="cb50-635"><a href="#cb50-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-636"><a href="#cb50-636" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-637"><a href="#cb50-637" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g4, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-638"><a href="#cb50-638" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-639"><a href="#cb50-639" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-640"><a href="#cb50-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-641"><a href="#cb50-641" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-642"><a href="#cb50-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-643"><a href="#cb50-643" aria-hidden="true" tabindex="-1"></a><span class="fu">## Expandir (spreading)</span></span>
<span id="cb50-644"><a href="#cb50-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-645"><a href="#cb50-645" aria-hidden="true" tabindex="-1"></a>El expandir es lo contrario de la agrupación. Se utiliza cuando una observación está dispersa en varias filas. Por ejemplo, en la <span class="in">`tabla2`</span> una observación es un país en un año, pero cada observación está dispersa en dos filas:</span>
<span id="cb50-646"><a href="#cb50-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-647"><a href="#cb50-647" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-648"><a href="#cb50-648" aria-hidden="true" tabindex="-1"></a><span class="in">table2</span></span>
<span id="cb50-649"><a href="#cb50-649" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-650"><a href="#cb50-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-651"><a href="#cb50-651" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-652"><a href="#cb50-652" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-653"><a href="#cb50-653" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table2, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-654"><a href="#cb50-654" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-655"><a href="#cb50-655" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-656"><a href="#cb50-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-657"><a href="#cb50-657" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-658"><a href="#cb50-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-659"><a href="#cb50-659" aria-hidden="true" tabindex="-1"></a>Para ordenar este conjunto de datos, sólo necesitamos dos parámetros:</span>
<span id="cb50-660"><a href="#cb50-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-661"><a href="#cb50-661" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>La columna que contiene los nombres de las variables, la columna <span class="in">`key`</span>. Aquí, es <span class="in">`type`</span>.</span>
<span id="cb50-662"><a href="#cb50-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-663"><a href="#cb50-663" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>La columna que contiene los valores de las variables múltiples, la columna <span class="in">`value`</span>. la columna <span class="in">`value`</span>. Aquí es <span class="in">`count`</span>.</span>
<span id="cb50-664"><a href="#cb50-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-665"><a href="#cb50-665" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-666"><a href="#cb50-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-667"><a href="#cb50-667" aria-hidden="true" tabindex="-1"></a>Para hacer esto podemos usar <span class="in">`spread()`</span>:</span>
<span id="cb50-668"><a href="#cb50-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-669"><a href="#cb50-669" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-670"><a href="#cb50-670" aria-hidden="true" tabindex="-1"></a><span class="in">spread(table2, key = "type", value = "count")</span></span>
<span id="cb50-671"><a href="#cb50-671" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-672"><a href="#cb50-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-673"><a href="#cb50-673" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-674"><a href="#cb50-674" aria-hidden="true" tabindex="-1"></a><span class="in">sp1 &lt;- spread(table2, key = "type", value = "count")</span></span>
<span id="cb50-675"><a href="#cb50-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-676"><a href="#cb50-676" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-677"><a href="#cb50-677" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(sp1, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-678"><a href="#cb50-678" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-679"><a href="#cb50-679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-680"><a href="#cb50-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-681"><a href="#cb50-681" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-682"><a href="#cb50-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-683"><a href="#cb50-683" aria-hidden="true" tabindex="-1"></a>que puede visualizarse de la siguiente manera:</span>
<span id="cb50-684"><a href="#cb50-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-685"><a href="#cb50-685" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/spreading.png" alt="spreading data" height="500" width="850"/&gt; &lt;font size="2"&gt;<span class="sc">\*</span> Modified from &lt;i&gt;R for Data Science&lt;/i&gt;&lt;/font&gt; &nbsp;</span>
<span id="cb50-686"><a href="#cb50-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-687"><a href="#cb50-687" aria-hidden="true" tabindex="-1"></a><span class="in">`spread()`</span> y <span class="in">`gather()`</span> son funciones complementarias. <span class="in">`gather()`</span> hace las tablas anchas más estrechas y largas; <span class="in">`spread()`</span> hace las tablas largas más cortas y anchas.</span>
<span id="cb50-688"><a href="#cb50-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-689"><a href="#cb50-689" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-690"><a href="#cb50-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-691"><a href="#cb50-691" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb50-692"><a href="#cb50-692" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ejercicio 3</span></span>
<span id="cb50-693"><a href="#cb50-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-694"><a href="#cb50-694" aria-hidden="true" tabindex="-1"></a>3.1 Ordena el siguiente conjunto de datos sobre la altura de los árboles de 2 especies:</span>
<span id="cb50-695"><a href="#cb50-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-698"><a href="#cb50-698" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb50-699"><a href="#cb50-699" aria-hidden="true" tabindex="-1"></a>plnt_sz <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb50-700"><a href="#cb50-700" aria-hidden="true" tabindex="-1"></a>  <span class="at">forest =</span> <span class="fu">c</span>(<span class="st">"old_growth"</span>, <span class="st">"disturbed"</span>),</span>
<span id="cb50-701"><a href="#cb50-701" aria-hidden="true" tabindex="-1"></a>  <span class="at">Species_1 =</span> <span class="fu">c</span>(<span class="dv">154</span>, <span class="dv">160</span>),</span>
<span id="cb50-702"><a href="#cb50-702" aria-hidden="true" tabindex="-1"></a>  <span class="at">Species_2 =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">113</span>)</span>
<span id="cb50-703"><a href="#cb50-703" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-704"><a href="#cb50-704" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-705"><a href="#cb50-705" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-706"><a href="#cb50-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-707"><a href="#cb50-707" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-708"><a href="#cb50-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-709"><a href="#cb50-709" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb50-710"><a href="#cb50-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-711"><a href="#cb50-711" aria-hidden="true" tabindex="-1"></a><span class="fu">## Separar y unir</span></span>
<span id="cb50-712"><a href="#cb50-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-713"><a href="#cb50-713" aria-hidden="true" tabindex="-1"></a>Hasta ahora hemos arreglado "tabla2" y "tabla4", pero no "tabla3". La "tabla3" tiene un problema diferente: tenemos una columna (*tasa*) que contiene dos variables (*casos* y *población*). Esto puede solucionarse con la función <span class="in">`separate()`</span> . También veremos su complemento <span class="in">`unite()`</span>, que se utiliza cuando una sola variable está repartida en varias columnas.</span>
<span id="cb50-714"><a href="#cb50-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-715"><a href="#cb50-715" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-716"><a href="#cb50-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-717"><a href="#cb50-717" aria-hidden="true" tabindex="-1"></a><span class="fu">### Separar</span></span>
<span id="cb50-718"><a href="#cb50-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-719"><a href="#cb50-719" aria-hidden="true" tabindex="-1"></a>La función <span class="in">`separate()`</span> separa una columna en varias columnas, dividiéndolas donde aparezca un carácter separador. Por ejemplo, <span class="in">`table3`</span>:</span>
<span id="cb50-720"><a href="#cb50-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-721"><a href="#cb50-721" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-722"><a href="#cb50-722" aria-hidden="true" tabindex="-1"></a><span class="in">as.data.frame(table3)</span></span>
<span id="cb50-723"><a href="#cb50-723" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-724"><a href="#cb50-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-725"><a href="#cb50-725" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-726"><a href="#cb50-726" aria-hidden="true" tabindex="-1"></a><span class="in"># check structure</span></span>
<span id="cb50-727"><a href="#cb50-727" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table3, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-728"><a href="#cb50-728" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-729"><a href="#cb50-729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-730"><a href="#cb50-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-731"><a href="#cb50-731" aria-hidden="true" tabindex="-1"></a>Visualmente hace algo así:</span>
<span id="cb50-732"><a href="#cb50-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-733"><a href="#cb50-733" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/separate.png" alt="separate data" height="500" width="850"/&gt; &lt;font size="2"&gt;<span class="sc">\*</span> Modified from &lt;i&gt;R for Data Science&lt;/i&gt;&lt;/font&gt;</span>
<span id="cb50-734"><a href="#cb50-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-735"><a href="#cb50-735" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-736"><a href="#cb50-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-737"><a href="#cb50-737" aria-hidden="true" tabindex="-1"></a>La columna *tasa* contiene las variables *casos* y *población*, y necesitamos separarla en dos variables. <span class="in">`separate()`</span> toma el nombre de la columna a separar, y los nombres de las nuevas columnas a crear:</span>
<span id="cb50-738"><a href="#cb50-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-739"><a href="#cb50-739" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F, echo=T}</span></span>
<span id="cb50-740"><a href="#cb50-740" aria-hidden="true" tabindex="-1"></a><span class="in">separate(</span></span>
<span id="cb50-741"><a href="#cb50-741" aria-hidden="true" tabindex="-1"></a><span class="in">  data = table3,</span></span>
<span id="cb50-742"><a href="#cb50-742" aria-hidden="true" tabindex="-1"></a><span class="in">  col = rate,</span></span>
<span id="cb50-743"><a href="#cb50-743" aria-hidden="true" tabindex="-1"></a><span class="in">  into = c("cases", "population")</span></span>
<span id="cb50-744"><a href="#cb50-744" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-745"><a href="#cb50-745" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-746"><a href="#cb50-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-747"><a href="#cb50-747" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-748"><a href="#cb50-748" aria-hidden="true" tabindex="-1"></a><span class="in">g5 &lt;- separate(data = table3, col = rate, into = c("cases", "population"))</span></span>
<span id="cb50-749"><a href="#cb50-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-750"><a href="#cb50-750" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g5, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-751"><a href="#cb50-751" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-752"><a href="#cb50-752" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-753"><a href="#cb50-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-754"><a href="#cb50-754" aria-hidden="true" tabindex="-1"></a>De forma predeterminada, <span class="in">`separate()`</span> dividirá basándose en cualquier carácter no alfanumérico (es decir, un carácter que no sea un número o una letra). En el código anterior, <span class="in">`separate()`</span> divide los valores de *rate* en los caracteres de la barra diagonal. Esto puede indicarse explícitamente (para evitar errores):</span>
<span id="cb50-755"><a href="#cb50-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-756"><a href="#cb50-756" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval = FALSE}</span></span>
<span id="cb50-757"><a href="#cb50-757" aria-hidden="true" tabindex="-1"></a><span class="in">tb3 &lt;-</span></span>
<span id="cb50-758"><a href="#cb50-758" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(</span></span>
<span id="cb50-759"><a href="#cb50-759" aria-hidden="true" tabindex="-1"></a><span class="in">    data = table3,</span></span>
<span id="cb50-760"><a href="#cb50-760" aria-hidden="true" tabindex="-1"></a><span class="in">    col = rate,</span></span>
<span id="cb50-761"><a href="#cb50-761" aria-hidden="true" tabindex="-1"></a><span class="in">    into = c("cases", "population"),</span></span>
<span id="cb50-762"><a href="#cb50-762" aria-hidden="true" tabindex="-1"></a><span class="in">    sep = "/"</span></span>
<span id="cb50-763"><a href="#cb50-763" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-764"><a href="#cb50-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-765"><a href="#cb50-765" aria-hidden="true" tabindex="-1"></a><span class="in">tb3</span></span>
<span id="cb50-766"><a href="#cb50-766" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-767"><a href="#cb50-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-768"><a href="#cb50-768" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-769"><a href="#cb50-769" aria-hidden="true" tabindex="-1"></a><span class="in">g6 &lt;- separate(data = table3, col = rate, into = c("cases", "population"), sep = "/")</span></span>
<span id="cb50-770"><a href="#cb50-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-771"><a href="#cb50-771" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g6, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-772"><a href="#cb50-772" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-773"><a href="#cb50-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-774"><a href="#cb50-774" aria-hidden="true" tabindex="-1"></a><span class="in">str(g6)</span></span>
<span id="cb50-775"><a href="#cb50-775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-776"><a href="#cb50-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-777"><a href="#cb50-777" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-778"><a href="#cb50-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-779"><a href="#cb50-779" aria-hidden="true" tabindex="-1"></a>Tenga en cuenta que *case* y *population* son columnas de caracteres. Por defecto <span class="in">`separate()`</span> deja el tipo de las nuevas columnas como en la original. En este caso esto no es lo ideal ya que realmente son números. Podemos pedir a <span class="in">`separate()`</span> que intente convertir a tipos mejores usando <span class="in">`convert = TRUE`</span>:</span>
<span id="cb50-780"><a href="#cb50-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-781"><a href="#cb50-781" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=T}</span></span>
<span id="cb50-782"><a href="#cb50-782" aria-hidden="true" tabindex="-1"></a><span class="in">tb3 &lt;-</span></span>
<span id="cb50-783"><a href="#cb50-783" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(</span></span>
<span id="cb50-784"><a href="#cb50-784" aria-hidden="true" tabindex="-1"></a><span class="in">    data = table3,</span></span>
<span id="cb50-785"><a href="#cb50-785" aria-hidden="true" tabindex="-1"></a><span class="in">    col = rate,</span></span>
<span id="cb50-786"><a href="#cb50-786" aria-hidden="true" tabindex="-1"></a><span class="in">    into = c("cases", "population"),</span></span>
<span id="cb50-787"><a href="#cb50-787" aria-hidden="true" tabindex="-1"></a><span class="in">    convert = TRUE</span></span>
<span id="cb50-788"><a href="#cb50-788" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-789"><a href="#cb50-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-790"><a href="#cb50-790" aria-hidden="true" tabindex="-1"></a><span class="in">str(tb3)</span></span>
<span id="cb50-791"><a href="#cb50-791" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-792"><a href="#cb50-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-793"><a href="#cb50-793" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-794"><a href="#cb50-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-795"><a href="#cb50-795" aria-hidden="true" tabindex="-1"></a>También puede pasar un vector de enteros a <span class="in">`sep`</span>, que serán interpretados como posiciones en las que dividir. Los valores positivos comienzan en 1 en el extremo izquierdo de las cadenas; los valores negativos comienzan en -1 en el extremo derecho de las cadenas. Cuando se usan enteros para separar cadenas, la longitud de <span class="in">`sep`</span> debe ser uno menos que el número de nombres en <span class="in">`into`</span>. Puede utilizarlo para separar los dos últimos dígitos de cada año:</span>
<span id="cb50-796"><a href="#cb50-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-797"><a href="#cb50-797" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F}</span></span>
<span id="cb50-798"><a href="#cb50-798" aria-hidden="true" tabindex="-1"></a><span class="in">separate(</span></span>
<span id="cb50-799"><a href="#cb50-799" aria-hidden="true" tabindex="-1"></a><span class="in">  data = table3,</span></span>
<span id="cb50-800"><a href="#cb50-800" aria-hidden="true" tabindex="-1"></a><span class="in">  col = year,</span></span>
<span id="cb50-801"><a href="#cb50-801" aria-hidden="true" tabindex="-1"></a><span class="in">  into = c("century", "year"),</span></span>
<span id="cb50-802"><a href="#cb50-802" aria-hidden="true" tabindex="-1"></a><span class="in">  sep = 2</span></span>
<span id="cb50-803"><a href="#cb50-803" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-804"><a href="#cb50-804" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-805"><a href="#cb50-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-806"><a href="#cb50-806" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-807"><a href="#cb50-807" aria-hidden="true" tabindex="-1"></a><span class="in">g8 &lt;- separate(data = table3, col = year, into = c("century", "year"), sep = 2)</span></span>
<span id="cb50-808"><a href="#cb50-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-809"><a href="#cb50-809" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g8, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-810"><a href="#cb50-810" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-811"><a href="#cb50-811" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-812"><a href="#cb50-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-813"><a href="#cb50-813" aria-hidden="true" tabindex="-1"></a>La separación de columnas también se puede hacer con la base <span class="in">`R`</span>, aunque requiere un poco más de codificación:</span>
<span id="cb50-814"><a href="#cb50-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-815"><a href="#cb50-815" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval = FALSE}</span></span>
<span id="cb50-816"><a href="#cb50-816" aria-hidden="true" tabindex="-1"></a><span class="in">table3$cases &lt;-</span></span>
<span id="cb50-817"><a href="#cb50-817" aria-hidden="true" tabindex="-1"></a><span class="in">  sapply(table3$rate, function(x) {</span></span>
<span id="cb50-818"><a href="#cb50-818" aria-hidden="true" tabindex="-1"></a><span class="in">    try(strsplit(x, "/")[[1]][1])</span></span>
<span id="cb50-819"><a href="#cb50-819" aria-hidden="true" tabindex="-1"></a><span class="in">  },</span></span>
<span id="cb50-820"><a href="#cb50-820" aria-hidden="true" tabindex="-1"></a><span class="in">  USE.NAMES = FALSE</span></span>
<span id="cb50-821"><a href="#cb50-821" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-822"><a href="#cb50-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-823"><a href="#cb50-823" aria-hidden="true" tabindex="-1"></a><span class="in">table3$population &lt;-</span></span>
<span id="cb50-824"><a href="#cb50-824" aria-hidden="true" tabindex="-1"></a><span class="in">  sapply(table3$rate, function(x) {</span></span>
<span id="cb50-825"><a href="#cb50-825" aria-hidden="true" tabindex="-1"></a><span class="in">    try(strsplit(x, "/")[[1]][2])</span></span>
<span id="cb50-826"><a href="#cb50-826" aria-hidden="true" tabindex="-1"></a><span class="in">  },</span></span>
<span id="cb50-827"><a href="#cb50-827" aria-hidden="true" tabindex="-1"></a><span class="in">  USE.NAMES = FALSE</span></span>
<span id="cb50-828"><a href="#cb50-828" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb50-829"><a href="#cb50-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-830"><a href="#cb50-830" aria-hidden="true" tabindex="-1"></a><span class="in">tb3</span></span>
<span id="cb50-831"><a href="#cb50-831" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-832"><a href="#cb50-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-833"><a href="#cb50-833" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-834"><a href="#cb50-834" aria-hidden="true" tabindex="-1"></a><span class="in">table3$cases &lt;- sapply(table3$rate, function(x) try(strsplit(x, "/")[[1]][1]), USE.NAMES = FALSE)</span></span>
<span id="cb50-835"><a href="#cb50-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-836"><a href="#cb50-836" aria-hidden="true" tabindex="-1"></a><span class="in">table3$population &lt;- sapply(table3$rate, function(x) try(strsplit(x, "/")[[1]][2]), USE.NAMES = FALSE)</span></span>
<span id="cb50-837"><a href="#cb50-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-838"><a href="#cb50-838" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(table3, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-839"><a href="#cb50-839" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-840"><a href="#cb50-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-841"><a href="#cb50-841" aria-hidden="true" tabindex="-1"></a><span class="in">str(g6)</span></span>
<span id="cb50-842"><a href="#cb50-842" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-843"><a href="#cb50-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-844"><a href="#cb50-844" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-845"><a href="#cb50-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-846"><a href="#cb50-846" aria-hidden="true" tabindex="-1"></a><span class="fu">## Unir</span></span>
<span id="cb50-847"><a href="#cb50-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-848"><a href="#cb50-848" aria-hidden="true" tabindex="-1"></a><span class="in">`unite()`</span> es la inversa de <span class="in">`separate()`</span>: combinar varias columnas en una sola:</span>
<span id="cb50-849"><a href="#cb50-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-850"><a href="#cb50-850" aria-hidden="true" tabindex="-1"></a>&lt;img src="./images/unite.png" alt="unite data" height="500" width="850"/&gt; &lt;font size="2"&gt;<span class="sc">\*</span> Modified from &lt;i&gt;R for Data Science&lt;/i&gt;&lt;/font&gt;</span>
<span id="cb50-851"><a href="#cb50-851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-852"><a href="#cb50-852" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-853"><a href="#cb50-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-854"><a href="#cb50-854" aria-hidden="true" tabindex="-1"></a>Sin embargo, la necesitará con mucha menos frecuencia que <span class="in">`separate()`</span>.</span>
<span id="cb50-855"><a href="#cb50-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-856"><a href="#cb50-856" aria-hidden="true" tabindex="-1"></a>Podemos utilizar <span class="in">`unite()`</span> para volver a unir las columnas *century* y *year* que creamos anteriormente:</span>
<span id="cb50-857"><a href="#cb50-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-858"><a href="#cb50-858" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F}</span></span>
<span id="cb50-859"><a href="#cb50-859" aria-hidden="true" tabindex="-1"></a><span class="in">unite(data = table5, col = "new", "century", "year")</span></span>
<span id="cb50-860"><a href="#cb50-860" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-861"><a href="#cb50-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-862"><a href="#cb50-862" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=T, echo=F}</span></span>
<span id="cb50-863"><a href="#cb50-863" aria-hidden="true" tabindex="-1"></a><span class="in">g9 &lt;- unite(data = table5, col = "new", "century", "year")</span></span>
<span id="cb50-864"><a href="#cb50-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-865"><a href="#cb50-865" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(g9, row.names = F, escape = FALSE) %&gt;%</span></span>
<span id="cb50-866"><a href="#cb50-866" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"), full_width = FALSE, font_size = 14)</span></span>
<span id="cb50-867"><a href="#cb50-867" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-868"><a href="#cb50-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-869"><a href="#cb50-869" aria-hidden="true" tabindex="-1"></a>En esta función también podemos utilizar el argumento <span class="in">`sep`</span> (aunque en este ejemplo no se ha especificado).</span>
<span id="cb50-870"><a href="#cb50-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-871"><a href="#cb50-871" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-872"><a href="#cb50-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-873"><a href="#cb50-873" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb50-874"><a href="#cb50-874" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ejercicio 4</span></span>
<span id="cb50-875"><a href="#cb50-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-876"><a href="#cb50-876" aria-hidden="true" tabindex="-1"></a>&lt;/br&gt;</span>
<span id="cb50-877"><a href="#cb50-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-878"><a href="#cb50-878" aria-hidden="true" tabindex="-1"></a>4.1 Una *century* y *year* de la "tabla5" usando <span class="in">`R`</span> básico (pista: <span class="in">`paste()`</span>)</span>
<span id="cb50-879"><a href="#cb50-879" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb50-880"><a href="#cb50-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-881"><a href="#cb50-881" aria-hidden="true" tabindex="-1"></a><span class="fu"># Exportar datos</span></span>
<span id="cb50-882"><a href="#cb50-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-883"><a href="#cb50-883" aria-hidden="true" tabindex="-1"></a>Probablemente el formato mas común para exportar datos de <span class="in">`R`</span> es *.csv*. La función <span class="in">`write.csv`</span> permite guardar cuadros de datos (data frame) o matrices (u otros objetos que se puedan convertir en un cuadro de datos), como archivos .csv. Por ejemplo, podemos guardar el cuadro de datos <span class="in">`iris`</span> de esta forma:</span>
<span id="cb50-884"><a href="#cb50-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-885"><a href="#cb50-885" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb50-886"><a href="#cb50-886" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(x = iris, file = "iris.csv")</span></span>
<span id="cb50-887"><a href="#cb50-887" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-888"><a href="#cb50-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-889"><a href="#cb50-889" aria-hidden="true" tabindex="-1"></a>Esta función incluye el número de fila como una columna de forma predeterminada. Esto puede hacer que, cuando leemos y guardamos varias veces los datos, se acumulen las columnas con el número de fila. Por tanto es conveniente excluir los números de fila cuando se guardan estos archivos. Esto lo podemos hacer usando el argumento <span class="in">`row.names`</span> de esta forma:</span>
<span id="cb50-890"><a href="#cb50-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-891"><a href="#cb50-891" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb50-892"><a href="#cb50-892" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(</span></span>
<span id="cb50-893"><a href="#cb50-893" aria-hidden="true" tabindex="-1"></a><span class="in">  x = iris,</span></span>
<span id="cb50-894"><a href="#cb50-894" aria-hidden="true" tabindex="-1"></a><span class="in">  file = "iris.csv",</span></span>
<span id="cb50-895"><a href="#cb50-895" aria-hidden="true" tabindex="-1"></a><span class="in">  row.names = FALSE</span></span>
<span id="cb50-896"><a href="#cb50-896" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-897"><a href="#cb50-897" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-898"><a href="#cb50-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-899"><a href="#cb50-899" aria-hidden="true" tabindex="-1"></a>También puede ser útil guardar el archivo en un directorio diferente al directorio de trabajo actual, sin tener que cambiarlo con <span class="in">`setwd()`</span>. Esto lo podemos hacer incluyendo la función <span class="in">`file.path()`</span> así:</span>
<span id="cb50-900"><a href="#cb50-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-901"><a href="#cb50-901" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb50-902"><a href="#cb50-902" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(</span></span>
<span id="cb50-903"><a href="#cb50-903" aria-hidden="true" tabindex="-1"></a><span class="in">  x = iris,</span></span>
<span id="cb50-904"><a href="#cb50-904" aria-hidden="true" tabindex="-1"></a><span class="in">  file = file.path("RUTA_AL_DIRECTORIO", "iris.csv"),</span></span>
<span id="cb50-905"><a href="#cb50-905" aria-hidden="true" tabindex="-1"></a><span class="in">  row.names = FALSE</span></span>
<span id="cb50-906"><a href="#cb50-906" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-907"><a href="#cb50-907" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-908"><a href="#cb50-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-909"><a href="#cb50-909" aria-hidden="true" tabindex="-1"></a>Archivos *.txt* pueden ser creados con la función <span class="in">`write.table`</span>:</span>
<span id="cb50-910"><a href="#cb50-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-911"><a href="#cb50-911" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb50-912"><a href="#cb50-912" aria-hidden="true" tabindex="-1"></a><span class="in">write.table(</span></span>
<span id="cb50-913"><a href="#cb50-913" aria-hidden="true" tabindex="-1"></a><span class="in">  x = iris,</span></span>
<span id="cb50-914"><a href="#cb50-914" aria-hidden="true" tabindex="-1"></a><span class="in">  file = file.path("RUTA_AL_DIRECTORIO", "iris.txt"),</span></span>
<span id="cb50-915"><a href="#cb50-915" aria-hidden="true" tabindex="-1"></a><span class="in">  row.names = FALSE,</span></span>
<span id="cb50-916"><a href="#cb50-916" aria-hidden="true" tabindex="-1"></a><span class="in">  sep = "\t"</span></span>
<span id="cb50-917"><a href="#cb50-917" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb50-918"><a href="#cb50-918" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-919"><a href="#cb50-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-920"><a href="#cb50-920" aria-hidden="true" tabindex="-1"></a>Note el argumento <span class="in">`sep = "\t"`</span> que indica que las columnas estarán separadas por tabulaciones.</span>
<span id="cb50-921"><a href="#cb50-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-922"><a href="#cb50-922" aria-hidden="true" tabindex="-1"></a>Por último, también podemos usar la función <span class="in">`write_xlsx`</span> del paquete <span class="in">`writexl`</span> para guardar archivos en el formato de microsoft *.xlsx*:</span>
<span id="cb50-923"><a href="#cb50-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-924"><a href="#cb50-924" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=FALSE}</span></span>
<span id="cb50-925"><a href="#cb50-925" aria-hidden="true" tabindex="-1"></a><span class="in">install.packages("writexl")</span></span>
<span id="cb50-926"><a href="#cb50-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-927"><a href="#cb50-927" aria-hidden="true" tabindex="-1"></a><span class="in">library(writexl)</span></span>
<span id="cb50-928"><a href="#cb50-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-929"><a href="#cb50-929" aria-hidden="true" tabindex="-1"></a><span class="in">write_xlsx(x = iris, path = "iris.xlsx")</span></span>
<span id="cb50-930"><a href="#cb50-930" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb50-931"><a href="#cb50-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-932"><a href="#cb50-932" aria-hidden="true" tabindex="-1"></a>&nbsp;</span>
<span id="cb50-933"><a href="#cb50-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-934"><a href="#cb50-934" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb50-935"><a href="#cb50-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-936"><a href="#cb50-936" aria-hidden="true" tabindex="-1"></a><span class="fu">## Referencias</span></span>
<span id="cb50-937"><a href="#cb50-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-938"><a href="#cb50-938" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Clements, J. F., T. S. Schulenberg, M. J. Iliff, D. Roberson, T. A. Fredericks, B. L. Sullivan, and C. L. Wood. 2017. *The eBird/Clements checklist of birds of the world: v2016*.</span>
<span id="cb50-939"><a href="#cb50-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-940"><a href="#cb50-940" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Jones, Jon Bielby, Marcel Cardillo, Susanne A. Fritz, Justin O'Dell, C. David L. Orme, Kamran Safi, Wes Sechrest, Elizabeth H. Boakes, Chris Carbone, Christina Connolly, Michael J. Cutts, Janine K. Foster, Richard Grenyer, Michael Habib, Christopher A. Plaster, Samantha A. Price, Elizabeth A. Rigby, Janna Rist, Amber Teacher, Olaf R. P. Bininda-Emonds, John L. Gittleman, Georgina M. Mace, and Andy Purvis. 2009. *PanTHERIA: a species-level database of life history, ecology, and geography of extant and recently extinct mammals*. Ecology 90:2648.</span>
<span id="cb50-941"><a href="#cb50-941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-942"><a href="#cb50-942" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Wickham, Hadley, and Garrett Grolemund. 2016. *R for data science: import, tidy, transform, visualize, and model data*. <span class="co">[</span><span class="ot">website</span><span class="co">](http://r4ds.had.co.nz)</span></span>
<span id="cb50-943"><a href="#cb50-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-944"><a href="#cb50-944" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Data import tutorial- DataCamp</span><span class="co">](https://www.datacamp.com/community/tutorials/r-data-import-tutorial)</span></span>
<span id="cb50-945"><a href="#cb50-945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-946"><a href="#cb50-946" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb50-947"><a href="#cb50-947" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-948"><a href="#cb50-948" aria-hidden="true" tabindex="-1"></a><span class="fu">## Información de la sesión {.unnumbered .unlisted}</span></span>
<span id="cb50-949"><a href="#cb50-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-950"><a href="#cb50-950" aria-hidden="true" tabindex="-1"></a><span class="in">```{r session info, echo=F}</span></span>
<span id="cb50-951"><a href="#cb50-951" aria-hidden="true" tabindex="-1"></a><span class="in">sessionInfo()</span></span>
<span id="cb50-952"><a href="#cb50-952" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2024 | <a href="https://marce10.github.io">Marcelo Araya-Salas</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>